function FastClick(e){var t,n=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.lastTouchIdentifier=this.touchStartY=this.touchStartX=0,this.touchBoundary=10,this.layer=e,!e||!e.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return FastClick.prototype.onClick.apply(n,arguments)},this.onMouse=function(){return FastClick.prototype.onMouse.apply(n,arguments)},this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(n,arguments)},this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(n,arguments)},this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(n,arguments)},this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(n,arguments)},FastClick.notNeeded(e)||(this.deviceIsAndroid&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,o){var i=Node.prototype.removeEventListener;"click"===t?i.call(e,t,n.hijacked||n,o):i.call(e,t,n,o)},e.addEventListener=function(t,n,o){var i=Node.prototype.addEventListener;"click"===t?i.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),o):i.call(e,t,n,o)}),"function"!=typeof e.onclick)||(t=e.onclick,e.addEventListener("click",function(e){t(e)},!1),e.onclick=null)}function photoSlider(e){this.wrap=e.wrap,this.wrapWidth=this.wrap.offsetWidth,this.wrapInner=this.wrap.getElementsByTagName("ul")[0],this.lists=this.wrap.getElementsByTagName("li"),this.listLength=this.lists.length;var t={loop:!1,autoPlay:!1,autoTime:5e3,speed:300,pagination:!0};this.ops=e||{};for(var n in t)if("undefined"==typeof e[n])e[n]=t[n];else if("object"==typeof e[n])for(var o in t[n])"undefined"==typeof e[n][j]&&(e[n][j]=t[n][j]);this.init(),this.bindEvent()}function photoSlide(e){return new photoSlider(e)}var Zepto=function(){function e(e){return null==e?String(e):J[G.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function o(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function i(t){return"object"==e(t)}function a(e){return i(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function s(e){return"number"==typeof e.length}function r(e){return q.call(e,function(e){return null!=e})}function d(e){return e.length>0?x.fn.concat.apply([],e):e}function c(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(e){return e in E?E[e]:E[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function p(e,t){return"number"!=typeof t||L[c(e)]?t:t+"px"}function u(e){var t,n;return N[e]||(t=B.createElement(e),B.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),N[e]=n),N[e]}function h(e){return"children"in e?T.call(e.children):x.map(e.childNodes,function(e){if(1==e.nodeType)return e})}function f(e,t,n){for(b in t)n&&(a(t[b])||V(t[b]))?(a(t[b])&&!a(e[b])&&(e[b]={}),V(t[b])&&!V(e[b])&&(e[b]=[]),f(e[b],t[b],n)):t[b]!==y&&(e[b]=t[b])}function m(e,t){return null==t?x(e):x(e).filter(t)}function w(e,n,o,i){return t(n)?n.call(e,o,i):n}function g(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function v(e,t){var n=e.className||"",o=n&&n.baseVal!==y;return t===y?o?n.baseVal:n:void(o?n.baseVal=t:e.className=t)}function _(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?x.parseJSON(e):e):e}catch(t){return e}}function $(e,t){t(e);for(var n=0,o=e.childNodes.length;n<o;n++)$(e.childNodes[n],t)}var y,b,x,k,C,I,S=[],T=S.slice,q=S.filter,B=window.document,N={},E={},L={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},D=/^\s*<(\w+|!)[^>]*>/,A=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,O=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,U=/^(?:body|html)$/i,j=/([A-Z])/g,F=["val","css","html","text","data","width","height","offset"],M=["after","prepend","before","append"],R=B.createElement("table"),P=B.createElement("tr"),W={tr:B.createElement("tbody"),tbody:R,thead:R,tfoot:R,td:P,th:P,"*":B.createElement("div")},H=/complete|loaded|interactive/,Q=/^[\w-]*$/,J={},G=J.toString,X={},z=B.createElement("div"),Z={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},V=Array.isArray||function(e){return e instanceof Array};return X.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var o,i=e.parentNode,a=!i;return a&&(i=z).appendChild(e),o=~X.qsa(i,t).indexOf(e),a&&z.removeChild(e),o},C=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},I=function(e){return q.call(e,function(t,n){return e.indexOf(t)==n})},X.fragment=function(e,t,n){var o,i,s;return A.test(e)&&(o=x(B.createElement(RegExp.$1))),o||(e.replace&&(e=e.replace(O,"<$1></$2>")),t===y&&(t=D.test(e)&&RegExp.$1),t in W||(t="*"),s=W[t],s.innerHTML=""+e,o=x.each(T.call(s.childNodes),function(){s.removeChild(this)})),a(n)&&(i=x(o),x.each(n,function(e,t){F.indexOf(e)>-1?i[e](t):i.attr(e,t)})),o},X.Z=function(e,t){return e=e||[],e.__proto__=x.fn,e.selector=t||"",e},X.isZ=function(e){return e instanceof X.Z},X.init=function(e,n){var o;if(!e)return X.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&D.test(e))o=X.fragment(e,RegExp.$1,n),e=null;else{if(n!==y)return x(n).find(e);o=X.qsa(B,e)}else{if(t(e))return x(B).ready(e);if(X.isZ(e))return e;if(V(e))o=r(e);else if(i(e))o=[e],e=null;else if(D.test(e))o=X.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==y)return x(n).find(e);o=X.qsa(B,e)}}return X.Z(o,e)},x=function(e,t){return X.init(e,t)},x.extend=function(e){var t,n=T.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){f(e,n,t)}),e},X.qsa=function(e,t){var n,i="#"==t[0],a=!i&&"."==t[0],s=i||a?t.slice(1):t,r=Q.test(s);return o(e)&&r&&i?(n=e.getElementById(s))?[n]:[]:1!==e.nodeType&&9!==e.nodeType?[]:T.call(r&&!i?a?e.getElementsByClassName(s):e.getElementsByTagName(t):e.querySelectorAll(t))},x.contains=B.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},x.type=e,x.isFunction=t,x.isWindow=n,x.isArray=V,x.isPlainObject=a,x.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},x.inArray=function(e,t,n){return S.indexOf.call(t,e,n)},x.camelCase=C,x.trim=function(e){return null==e?"":String.prototype.trim.call(e)},x.uuid=0,x.support={},x.expr={},x.map=function(e,t){var n,o,i,a=[];if(s(e))for(o=0;o<e.length;o++)n=t(e[o],o),null!=n&&a.push(n);else for(i in e)n=t(e[i],i),null!=n&&a.push(n);return d(a)},x.each=function(e,t){var n,o;if(s(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(o in e)if(t.call(e[o],o,e[o])===!1)return e;return e},x.grep=function(e,t){return q.call(e,t)},window.JSON&&(x.parseJSON=JSON.parse),x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()}),x.fn={forEach:S.forEach,reduce:S.reduce,push:S.push,sort:S.sort,indexOf:S.indexOf,concat:S.concat,map:function(e){return x(x.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return x(T.apply(this,arguments))},ready:function(e){return H.test(B.readyState)&&B.body?e(x):B.addEventListener("DOMContentLoaded",function(){e(x)},!1),this},get:function(e){return e===y?T.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return S.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):x(q.call(this,function(t){return X.matches(t,e)}))},add:function(e,t){return x(I(this.concat(x(e,t))))},is:function(e){return this.length>0&&X.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==y)this.each(function(t){e.call(this,t)||n.push(this)});else{var o="string"==typeof e?this.filter(e):s(e)&&t(e.item)?T.call(e):x(e);this.forEach(function(e){o.indexOf(e)<0&&n.push(e)})}return x(n)},has:function(e){return this.filter(function(){return i(e)?x.contains(this,e):x(this).find(e).size()})},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!i(e)?e:x(e)},last:function(){var e=this[this.length-1];return e&&!i(e)?e:x(e)},find:function(e){var t,n=this;return t=e?"object"==typeof e?x(e).filter(function(){var e=this;return S.some.call(n,function(t){return x.contains(t,e)})}):1==this.length?x(X.qsa(this[0],e)):this.map(function(){return X.qsa(this,e)}):x()},closest:function(e,t){var n=this[0],i=!1;for("object"==typeof e&&(i=x(e));n&&!(i?i.indexOf(n)>=0:X.matches(n,e));)n=n!==t&&!o(n)&&n.parentNode;return x(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=x.map(n,function(e){if((e=e.parentNode)&&!o(e)&&t.indexOf(e)<0)return t.push(e),e});return m(t,e)},parent:function(e){return m(I(this.pluck("parentNode")),e)},children:function(e){return m(this.map(function(){return h(this)}),e)},contents:function(){return this.map(function(){return T.call(this.childNodes)})},siblings:function(e){return m(this.map(function(e,t){return q.call(h(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return x.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=u(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var o=x(e).get(0),i=o.parentNode||this.length>1;return this.each(function(t){x(this).wrapAll(n?e.call(this,t):i?o.cloneNode(!0):o)})},wrapAll:function(e){if(this[0]){x(this[0]).before(e=x(e));for(var t;(t=e.children()).length;)e=t.first();x(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var o=x(this),i=o.contents(),a=n?e.call(this,t):e;i.length?i.wrapAll(a):o.append(a)})},unwrap:function(){return this.parent().each(function(){x(this).replaceWith(x(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=x(this);(e===y?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return x(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return x(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;x(this).empty().append(w(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=w(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(i(e))for(b in e)g(this,b,e[b]);else g(this,e,w(this,t,n,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:y},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){g(this,e)},this)})},prop:function(e,t){return e=Z[e]||e,1 in arguments?this.each(function(n){this[e]=w(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(e,t){var n="data-"+e.replace(j,"-$1").toLowerCase(),o=1 in arguments?this.attr(n,t):this.attr(n);return null!==o?_(o):y},val:function(e){return 0 in arguments?this.each(function(t){this.value=w(this,e,t,this.value)}):this[0]&&(this[0].multiple?x(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=x(this),o=w(this,e,t,n.offset()),i=n.offsetParent().offset(),a={top:o.top-i.top,left:o.left-i.left};"static"==n.css("position")&&(a.position="relative"),n.css(a)});if(!this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var o,i=this[0];if(!i)return;if(o=getComputedStyle(i,""),"string"==typeof t)return i.style[C(t)]||o.getPropertyValue(t);if(V(t)){var a={};return x.each(t,function(e,t){a[t]=i.style[C(t)]||o.getPropertyValue(t)}),a}}var s="";if("string"==e(t))n||0===n?s=c(t)+":"+p(t,n):this.each(function(){this.style.removeProperty(c(t))});else for(b in t)t[b]||0===t[b]?s+=c(b)+":"+p(b,t[b])+";":this.each(function(){this.style.removeProperty(c(b))});return this.each(function(){this.style.cssText+=";"+s})},index:function(e){return e?this.indexOf(x(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&S.some.call(this,function(e){return this.test(v(e))},l(e))},addClass:function(e){return e?this.each(function(t){if("className"in this){k=[];var n=v(this),o=w(this,e,t,n);o.split(/\s+/g).forEach(function(e){x(this).hasClass(e)||k.push(e)},this),k.length&&v(this,n+(n?" ":"")+k.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===y)return v(this,"");k=v(this),w(this,e,t,k).split(/\s+/g).forEach(function(e){k=k.replace(l(e)," ")}),v(this,k.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var o=x(this),i=w(this,e,n,v(this));i.split(/\s+/g).forEach(function(e){(t===y?!o.hasClass(e):t)?o.addClass(e):o.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===y?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===y?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),o=U.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(x(e).css("margin-top"))||0,n.left-=parseFloat(x(e).css("margin-left"))||0,o.top+=parseFloat(x(t[0]).css("border-top-width"))||0,o.left+=parseFloat(x(t[0]).css("border-left-width"))||0,{top:n.top-o.top,left:n.left-o.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||B.body;e&&!U.test(e.nodeName)&&"static"==x(e).css("position");)e=e.offsetParent;return e})}},x.fn.detach=x.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});x.fn[e]=function(i){var a,s=this[0];return i===y?n(s)?s["inner"+t]:o(s)?s.documentElement["scroll"+t]:(a=this.offset())&&a[e]:this.each(function(t){s=x(this),s.css(e,w(this,i,t,s[e]()))})}}),M.forEach(function(t,n){var o=n%2;x.fn[t]=function(){var t,i,a=x.map(arguments,function(n){return t=e(n),"object"==t||"array"==t||null==n?n:X.fragment(n)}),s=this.length>1;return a.length<1?this:this.each(function(e,t){i=o?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var r=x.contains(B.documentElement,i);a.forEach(function(e){if(s)e=e.cloneNode(!0);else if(!i)return x(e).remove();i.insertBefore(e,t),r&&$(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},x.fn[o?t+"To":"insert"+(n?"Before":"After")]=function(e){return x(e)[t](this),this}}),X.Z.prototype=x.fn,X.uniq=I,X.deserializeValue=_,x.zepto=X,x}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(e){function t(e){return e._zid||(e._zid=u++)}function n(e,n,a,s){if(n=o(n),n.ns)var r=i(n.ns);return(w[t(e)]||[]).filter(function(e){return e&&(!n.e||e.e==n.e)&&(!n.ns||r.test(e.ns))&&(!a||t(e.fn)===t(a))&&(!s||e.sel==s)})}function o(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function i(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function a(e,t){return e.del&&!v&&e.e in _||!!t}function s(e){return $[e]||v&&_[e]||e}function r(n,i,r,d,l,u,h){var f=t(n),m=w[f]||(w[f]=[]);i.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(r);var i=o(t);i.fn=r,i.sel=l,i.e in $&&(r=function(t){var n=t.relatedTarget;if(!n||n!==this&&!e.contains(this,n))return i.fn.apply(this,arguments)}),i.del=u;var f=u||r;i.proxy=function(e){if(e=c(e),!e.isImmediatePropagationStopped()){e.data=d;var t=f.apply(n,e._args==p?[e]:[e].concat(e._args));return t===!1&&(e.preventDefault(),e.stopPropagation()),t}},i.i=m.length,m.push(i),"addEventListener"in n&&n.addEventListener(s(i.e),i.proxy,a(i,h))})}function d(e,o,i,r,d){var c=t(e);(o||"").split(/\s/).forEach(function(t){n(e,t,i,r).forEach(function(t){delete w[c][t.i],"removeEventListener"in e&&e.removeEventListener(s(t.e),t.proxy,a(t,d))})})}function c(t,n){return!n&&t.isDefaultPrevented||(n||(n=t),e.each(k,function(e,o){var i=n[e];t[e]=function(){return this[o]=y,i&&i.apply(n,arguments)},t[o]=b}),(n.defaultPrevented!==p?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=y)),t}function l(e){var t,n={originalEvent:e};for(t in e)x.test(t)||e[t]===p||(n[t]=e[t]);return c(n,e)}var p,u=1,h=Array.prototype.slice,f=e.isFunction,m=function(e){return"string"==typeof e},w={},g={},v="onfocusin"in window,_={focus:"focusin",blur:"focusout"},$={mouseenter:"mouseover",mouseleave:"mouseout"};g.click=g.mousedown=g.mouseup=g.mousemove="MouseEvents",e.event={add:r,remove:d},e.proxy=function(n,o){var i=2 in arguments&&h.call(arguments,2);if(f(n)){var a=function(){return n.apply(o,i?i.concat(h.call(arguments)):arguments)};return a._zid=t(n),a}if(m(o))return i?(i.unshift(n[o],n),e.proxy.apply(null,i)):e.proxy(n[o],n);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,o){return this.on(e,t,n,o,1)};var y=function(){return!0},b=function(){return!1},x=/^([A-Z]|returnValue$|layer[XY]$)/,k={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,o,i,a){var s,c,u=this;return t&&!m(t)?(e.each(t,function(e,t){u.on(e,n,o,t,a)}),u):(m(n)||f(i)||i===!1||(i=o,o=n,n=p),(f(o)||o===!1)&&(i=o,o=p),i===!1&&(i=b),u.each(function(p,u){a&&(s=function(e){return d(u,e.type,i),i.apply(this,arguments)}),n&&(c=function(t){var o,a=e(t.target).closest(n,u).get(0);if(a&&a!==u)return o=e.extend(l(t),{currentTarget:a,liveFired:u}),(s||i).apply(a,[o].concat(h.call(arguments,1)))}),r(u,t,i,o,n,c||s)}))},e.fn.off=function(t,n,o){var i=this;return t&&!m(t)?(e.each(t,function(e,t){i.off(e,n,t)}),i):(m(n)||f(o)||o===!1||(o=n,n=p),o===!1&&(o=b),i.each(function(){d(this,t,o,n)}))},e.fn.trigger=function(t,n){return t=m(t)||e.isPlainObject(t)?e.Event(t):c(t),t._args=n,this.each(function(){t.type in _&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,o){var i,a;return this.each(function(s,r){i=l(m(t)?e.Event(t):t),i._args=o,i.target=r,e.each(n(r,t.type||t),function(e,t){if(a=t.proxy(i),i.isImmediatePropagationStopped())return!1})}),a},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){m(e)||(t=e,e=t.type);var n=document.createEvent(g[e]||"Events"),o=!0;if(t)for(var i in t)"bubbles"==i?o=!!t[i]:n[i]=t[i];return n.initEvent(e,o,!0),c(n)}}(Zepto),function(e){function t(t,n,o){var i=e.Event(n);return e(t).trigger(i,o),!i.isDefaultPrevented()}function n(e,n,o,i){if(e.global)return t(n||v,o,i)}function o(t){t.global&&0===e.active++&&n(t,null,"ajaxStart")}function i(t){t.global&&!--e.active&&n(t,null,"ajaxStop")}function a(e,t){var o=t.context;return t.beforeSend.call(o,e,t)!==!1&&n(t,o,"ajaxBeforeSend",[e,t])!==!1&&void n(t,o,"ajaxSend",[e,t])}function s(e,t,o,i){var a=o.context,s="success";o.success.call(a,e,s,t),i&&i.resolveWith(a,[e,s,t]),n(o,a,"ajaxSuccess",[t,o,e]),d(s,t,o)}function r(e,t,o,i,a){var s=i.context;i.error.call(s,o,t,e),a&&a.rejectWith(s,[o,t,e]),n(i,s,"ajaxError",[o,i,e||t]),d(t,o,i)}function d(e,t,o){var a=o.context;o.complete.call(a,t,e),n(o,a,"ajaxComplete",[t,o]),i(o)}function c(){}function l(e){return e&&(e=e.split(";",2)[0]),e&&(e==x?"html":e==b?"json":$.test(e)?"script":y.test(e)&&"xml")||"text"}function p(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function u(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=p(t.url,t.data),t.data=void 0)}function h(t,n,o,i){return e.isFunction(n)&&(i=o,o=n,n=void 0),e.isFunction(o)||(i=o,o=void 0),{url:t,data:n,success:o,dataType:i}}function f(t,n,o,i){var a,s=e.isArray(n),r=e.isPlainObject(n);e.each(n,function(n,d){a=e.type(d),i&&(n=o?i:i+"["+(r||"object"==a||"array"==a?n:"")+"]"),!i&&s?t.add(d.name,d.value):"array"==a||!o&&"object"==a?f(t,d,o,n):t.add(n,d)})}var m,w,g=0,v=window.document,_=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,$=/^(?:text|application)\/javascript/i,y=/^(?:text|application)\/xml/i,b="application/json",x="text/html",k=/^\s*$/,C=v.createElement("a");C.href=window.location.href,e.active=0,e.ajaxJSONP=function(t,n){if(!("type"in t))return e.ajax(t);var o,i,d=t.jsonpCallback,c=(e.isFunction(d)?d():d)||"jsonp"+ ++g,l=v.createElement("script"),p=window[c],u=function(t){e(l).triggerHandler("error",t||"abort")},h={abort:u};return n&&n.promise(h),e(l).on("load error",function(a,d){clearTimeout(i),e(l).off().remove(),"error"!=a.type&&o?s(o[0],h,t,n):r(null,d||"error",h,t,n),window[c]=p,o&&e.isFunction(p)&&p(o[0]),p=o=void 0}),a(h,t)===!1?(u("abort"),h):(window[c]=function(){o=arguments},l.src=t.url.replace(/\?(.+)=\?/,"?$1="+c),v.head.appendChild(l),t.timeout>0&&(i=setTimeout(function(){u("timeout")},t.timeout)),h)},e.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:b,xml:"application/xml, text/xml",html:x,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},e.ajax=function(t){var n,i=e.extend({},t||{}),d=e.Deferred&&e.Deferred();for(m in e.ajaxSettings)void 0===i[m]&&(i[m]=e.ajaxSettings[m]);o(i),i.crossDomain||(n=v.createElement("a"),n.href=i.url,n.href=n.href,i.crossDomain=C.protocol+"//"+C.host!=n.protocol+"//"+n.host),i.url||(i.url=window.location.toString()),u(i);var h=i.dataType,f=/\?.+=\?/.test(i.url);if(f&&(h="jsonp"),i.cache!==!1&&(t&&t.cache===!0||"script"!=h&&"jsonp"!=h)||(i.url=p(i.url,"_="+Date.now())),"jsonp"==h)return f||(i.url=p(i.url,i.jsonp?i.jsonp+"=?":i.jsonp===!1?"":"callback=?")),e.ajaxJSONP(i,d);var g,_=i.accepts[h],$={},y=function(e,t){$[e.toLowerCase()]=[e,t]},b=/^([\w-]+:)\/\//.test(i.url)?RegExp.$1:window.location.protocol,x=i.xhr(),I=x.setRequestHeader;if(d&&d.promise(x),i.crossDomain||y("X-Requested-With","XMLHttpRequest"),y("Accept",_||"*/*"),(_=i.mimeType||_)&&(_.indexOf(",")>-1&&(_=_.split(",",2)[0]),x.overrideMimeType&&x.overrideMimeType(_)),(i.contentType||i.contentType!==!1&&i.data&&"GET"!=i.type.toUpperCase())&&y("Content-Type",i.contentType||"application/x-www-form-urlencoded"),i.headers)for(w in i.headers)y(w,i.headers[w]);if(x.setRequestHeader=y,x.onreadystatechange=function(){if(4==x.readyState){x.onreadystatechange=c,clearTimeout(g);var t,n=!1;if(x.status>=200&&x.status<300||304==x.status||0==x.status&&"file:"==b){h=h||l(i.mimeType||x.getResponseHeader("content-type")),t=x.responseText;try{"script"==h?(0,eval)(t):"xml"==h?t=x.responseXML:"json"==h&&(t=k.test(t)?null:e.parseJSON(t))}catch(o){n=o}n?r(n,"parsererror",x,i,d):s(t,x,i,d)}else r(x.statusText||null,x.status?"error":"abort",x,i,d)}},a(x,i)===!1)return x.abort(),r(null,"abort",x,i,d),x;if(i.xhrFields)for(w in i.xhrFields)x[w]=i.xhrFields[w];var S=!("async"in i)||i.async;x.open(i.type,i.url,S,i.username,i.password);for(w in $)I.apply(x,$[w]);return i.timeout>0&&(g=setTimeout(function(){x.onreadystatechange=c,x.abort(),r(null,"timeout",x,i,d)},i.timeout)),x.send(i.data?i.data:null),x},e.get=function(){return e.ajax(h.apply(null,arguments))},e.post=function(){var t=h.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=h.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,o){if(!this.length)return this;var i,a=this,s=t.split(/\s/),r=h(t,n,o),d=r.success;return s.length>1&&(r.url=s[0],i=s[1]),r.success=function(t){a.html(i?e("<div>").html(t.replace(_,"")).find(i):t),d&&d.apply(a,arguments)},e.ajax(r),this};var I=encodeURIComponent;e.param=function(t,n){var o=[];return o.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(I(t)+"="+I(n))},f(o,t,n),o.join("&").replace(/%20/g,"+")}}(Zepto),function(e){e.fn.serializeArray=function(){var t,n,o=[],i=function(e){return e.forEach?e.forEach(i):void o.push({name:t,value:e})};return this[0]&&e.each(this[0].elements,function(o,a){n=a.type,t=a.name,t&&"fieldset"!=a.nodeName.toLowerCase()&&!a.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||a.checked)&&i(e(a).val())}),o},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(e){"__proto__"in{}||e.extend(e.zepto,{Z:function(t,n){return t=t||[],e.extend(t,e.fn),t.selector=n||"",t.__Z=!0,t},isZ:function(t){return"array"===e.type(t)&&"__Z"in t}});try{getComputedStyle(void 0)}catch(t){var n=getComputedStyle;window.getComputedStyle=function(e){try{return n(e)}catch(t){return null}}}}(Zepto),function(e){e.Callbacks=function(t){t=e.extend({},t);var n,o,i,a,s,r,d=[],c=!t.once&&[],l=function(e){for(n=t.memory&&e,o=!0,r=a||0,a=0,s=d.length,i=!0;d&&r<s;++r)if(d[r].apply(e[0],e[1])===!1&&t.stopOnFalse){n=!1;break}i=!1,d&&(c?c.length&&l(c.shift()):n?d.length=0:p.disable())},p={add:function(){if(d){var o=d.length,r=function(n){e.each(n,function(e,n){"function"==typeof n?t.unique&&p.has(n)||d.push(n):n&&n.length&&"string"!=typeof n&&r(n)})};r(arguments),i?s=d.length:n&&(a=o,l(n))}return this},remove:function(){return d&&e.each(arguments,function(t,n){for(var o;(o=e.inArray(n,d,o))>-1;)d.splice(o,1),i&&(o<=s&&--s,o<=r&&--r)}),this},has:function(t){return!(!d||!(t?e.inArray(t,d)>-1:d.length))},empty:function(){return s=d.length=0,this},disable:function(){return d=c=n=void 0,this},disabled:function(){return!d},lock:function(){return c=void 0,n||p.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!d||o&&!c||(t=t||[],t=[e,t.slice?t.slice():t],i?c.push(t):l(t)),this},fire:function(){return p.fireWith(this,arguments)},fired:function(){return!!o}};return p}}(Zepto),function(e){function t(n){var o=[["resolve","done",e.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",e.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",e.Callbacks({memory:1})]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var n=arguments;return t(function(t){e.each(o,function(o,i){var r=e.isFunction(n[o])&&n[o];s[i[1]](function(){var n=r&&r.apply(this,arguments);if(n&&e.isFunction(n.promise))n.promise().done(t.resolve).fail(t.reject).progress(t.notify);else{var o=this===a?t.promise():this,s=r?[n]:arguments;t[i[0]+"With"](o,s)}})}),n=null}).promise()},promise:function(t){return null!=t?e.extend(t,a):a}},s={};return e.each(o,function(e,t){var n=t[2],r=t[3];a[t[1]]=n.add,r&&n.add(function(){i=r},o[1^e][2].disable,o[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?a:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),n&&n.call(s,s),s}var n=Array.prototype.slice;e.when=function(o){var i,a,s,r=n.call(arguments),d=r.length,c=0,l=1!==d||o&&e.isFunction(o.promise)?d:0,p=1===l?o:t(),u=function(e,t,o){return function(a){t[e]=this,o[e]=arguments.length>1?n.call(arguments):a,o===i?p.notifyWith(t,o):--l||p.resolveWith(t,o)}};if(d>1)for(i=new Array(d),a=new Array(d),s=new Array(d);c<d;++c)r[c]&&e.isFunction(r[c].promise)?r[c].promise().done(u(c,s,r)).fail(p.reject).progress(u(c,a,i)):--l;return l||p.resolveWith(s,r),p.promise()},e.Deferred=t}(Zepto),function(e){e.extend(e,{cookie:function(t,n,o){var i,a,s,r;return arguments.length>1&&"[object Object]"!==String(n)?(o=e.extend({},o),null!==n&&void 0!==n||(o.expires=-1),"number"==typeof o.expires&&(i=24*o.expires*60*60*1e3,a=o.expires=new Date,a.setTime(a.getTime()+i)),n=String(n),document.cookie=[encodeURIComponent(t),"=",o.raw?n:encodeURIComponent(n),o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")):(o=n||{},r=o.raw?function(e){return e}:decodeURIComponent,(s=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?r(s[1]):null)}})}(Zepto),function(e){function t(){n&&clearTimeout(n),n=null,o={}}var n,o={};e.tap=function(e,t){var i,a,s,r,d,c=0,l=0,a=2e3,d=function(e,t){return function(){return e.apply(t,arguments)}};"ontouchstart"in document.documentElement?(e.addEventListener("touchstart",d(function(e){s=(new Date).getTime(),i=e.touches[0],e.touches&&1===e.touches.length&&o.x2&&(o.x2=void 0,o.y2=void 0),o.x1=i.pageX,o.y1=i.pageY},e)),e.addEventListener("touchmove",d(function(e){i=e.touches[0],o.x2=i.pageX,o.y2=i.pageY,c+=Math.abs(o.x1-o.x2),l+=Math.abs(o.y1-o.y2)},e)),e.addEventListener("touchend",d(function(e){r=(new Date).getTime(),c<30&&l<30&&r-s<a&&(n=setTimeout(function(){t(e)},0)),c=l=0},e))):e.addEventListener("click",d(function(e){t(e)},e))},e(window).on("scroll",t)}(Zepto),function(e,t){function n(e){return e.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function o(e){return i?i+e:e.toLowerCase()}var i,a,s,r,d,c,l,p,u,h,f="",m={Webkit:"webkit",Moz:"",O:"o"},w=document.createElement("div"),g=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,v={};e.each(m,function(e,n){if(w.style[e+"TransitionProperty"]!==t)return f="-"+e.toLowerCase()+"-",i=n,!1}),a=f+"transform",v[s=f+"transition-property"]=v[r=f+"transition-duration"]=v[c=f+"transition-delay"]=v[d=f+"transition-timing-function"]=v[l=f+"animation-name"]=v[p=f+"animation-duration"]=v[h=f+"animation-delay"]=v[u=f+"animation-timing-function"]="",e.fx={off:i===t&&w.style.transitionProperty===t,speeds:{_default:400,
fast:200,slow:600},cssPrefix:f,transitionEnd:o("TransitionEnd"),animationEnd:o("AnimationEnd")},e.fn.animate=function(n,o,i,a,s){return e.isFunction(o)&&(a=o,i=t,o=t),e.isFunction(i)&&(a=i,i=t),e.isPlainObject(o)&&(i=o.easing,a=o.complete,s=o.delay,o=o.duration),o&&(o=("number"==typeof o?o:e.fx.speeds[o]||e.fx.speeds._default)/1e3),s&&(s=parseFloat(s)/1e3),this.anim(n,o,i,a,s)},e.fn.anim=function(o,i,f,m,w){var _,$,y,b={},x="",k=this,C=e.fx.transitionEnd,I=!1;if(i===t&&(i=e.fx.speeds._default/1e3),w===t&&(w=0),e.fx.off&&(i=0),"string"==typeof o)b[l]=o,b[p]=i+"s",b[h]=w+"s",b[u]=f||"linear",C=e.fx.animationEnd;else{$=[];for(_ in o)g.test(_)?x+=_+"("+o[_]+") ":(b[_]=o[_],$.push(n(_)));x&&(b[a]=x,$.push(a)),i>0&&"object"==typeof o&&(b[s]=$.join(", "),b[r]=i+"s",b[c]=w+"s",b[d]=f||"linear")}return y=function(t){if("undefined"!=typeof t){if(t.target!==t.currentTarget)return;e(t.target).unbind(C,y)}else e(this).unbind(C,y);I=!0,e(this).css(v),m&&m.call(this)},i>0&&(this.bind(C,y),setTimeout(function(){I||y.call(k)},1e3*(i+w)+25)),this.size()&&this.get(0).clientLeft,this.css(b),i<=0&&setTimeout(function(){k.each(function(){y.call(this)})},0),this},w=null}(Zepto),function(e){function t(e){this.app=function(){var e,t=navigator.userAgent,n=!1,o=!1,i=!1,a=!1,s=!1,r="";return(e=t.match(/MicroMessenger\/([\d\.]*)/i))?(n=!0,r=e[1]):(e=t.match(/ QQ[\s\/]([\d\.]*)/i))?(o=!0,r=e[1]):(e=t.match(/QQLiveBrowser\/([\d\.]*)/i))?(i=!0,r=e[1]):(e=t.match(/qnreading\/([\d\.]*)/i))?(a=!0,r=e[1]):(e=t.match(/qqnews\/([\d\.]*)/i))&&(s=!0,r=e[1]),{weixin:n,mqq:o,QQLiveBrowser:i,kuaibao:a,qqnews:s,version:r}}(),this.os=function(){var e,t,n,o,i=navigator.userAgent,a=!1,s=!1,r="";return(e=i.match(/(Android);?[\s\/]+([\d.]+)?/))?(a=!0,r=e[2]):(t=i.match(/(iPhone\sOS)\s([\d_]+)/),n=i.match(/(iPad).*OS\s([\d_]+)/),o=i.match(/(iPod)(.*OS\s([\d_]+))?/),t?(r=t[2],t=!0,s=!0):n?(r=n[2],n=!0,s=!0):o&&(r=o[2],o=!0,s=!0)),{android:a,ios:s,iphone:t,ipad:n,ipod:o,version:r}}(),this.isMobile=function(){for(var e=["MQQBrowser","iphone","itouch","android","nokia","UC","TencentTraveler"],t=navigator.userAgent.toLowerCase(),n=0,o=e.length;n<o;n++){var i=new RegExp(e[n].toLowerCase());if(i.test(t))return!0}return!1}()}t.call(e,navigator.userAgent),e.__detect=t}(Zepto||window),FastClick.prototype.deviceIsAndroid=0<navigator.userAgent.indexOf("Android"),FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),FastClick.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===e.type||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},FastClick.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},FastClick.prototype.sendClick=function(e,t){var n,o;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),o=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},FastClick.prototype.determineEventType=function(e){return this.deviceIsAndroid&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(e){var t;this.deviceIsIOS&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},FastClick.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},FastClick.prototype.onTouchStart=function(e){var t,n,o;if(1<e.targetTouches.length)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],this.deviceIsIOS){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!this.deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,200>e.timeStamp-this.lastClickTime&&e.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(e){var e=e.changedTouches[0],t=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>t||Math.abs(e.pageY-this.touchStartY)>t},FastClick.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},FastClick.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(e){var t,n,o=this.targetElement;if(!this.trackingClick)return!0;if(200>e.timeStamp-this.lastClickTime)return this.cancelNextClick=!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,t=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(n=e.changedTouches[0],o=document.elementFromPoint(n.pageX-window.pageXOffset,n.pageY-window.pageYOffset)||o,o.fastClickScrollParent=this.targetElement.fastClickScrollParent),n=o.tagName.toLowerCase(),"label"===n){if(t=this.findControl(o)){if(this.focus(o),this.deviceIsAndroid)return!1;o=t}}else if(this.needsFocus(o))return 100<e.timeStamp-t||this.deviceIsIOS&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(o),this.deviceIsIOS4&&"select"===n||(this.targetElement=null,e.preventDefault()),!1);return!(!this.deviceIsIOS||this.deviceIsIOS4||!(t=o.fastClickScrollParent)||t.fastClickLastScrollTop===t.scrollTop)||(this.needsClick(o)||(e.preventDefault(),this.sendClick(o,e)),!1)},FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(e){return!(this.targetElement&&!e.forwardedTouchEvent&&e.cancelable)||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))},FastClick.prototype.onClick=function(e){return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||(e=this.onMouse(e),e||(this.targetElement=null),e)},FastClick.prototype.destroy=function(){var e=this.layer;this.deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(e){var t,n;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!FastClick.prototype.deviceIsAndroid)return!0;if((t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||31<n&&window.innerWidth<=window.screen.width))return!0}return"none"===e.style.msTouchAction},FastClick.attach=function(e){return new FastClick(e)},"undefined"!=typeof define&&define.amd?define(function(){return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.define&&define("lib/fastclick",[],function(){return FastClick}),window.FastClick=FastClick,function(e){function t(){for(var e=document.childNodes,t=0,n=0;n<e.length;n++){var o,i=e[n];i.innerHTML?o=i.innerHTML.match(/<!--<html><head><title><\/title><\/head><body><\/body><\/html>-->/g):i.data&&(o=i.data.match(/<html><head><title><\/title><\/head><body><\/body><\/html>/g)),o&&t++}2!=t&&a({type:"html-comment",hiMsg:t})}function n(){self!=top&&a({type:"iframe",hiUrl:top.location.href})}function o(e){if(d!==!0){var t=e?e.srcElement:document.documentElement;if(t.outerHTML){for(var n=/(https?:)?\/\/[a-zA-Z0-9\._-]+\.[a-zA-Z]{2,6}(:[0-9]{1,6})?\/?[^'")\s]*/gi,o=/^(https?:)?\/\/([a-zA-Z0-9\._-]+\.[a-zA-Z]{2,6})/i,i=[],r=[t],c=t.getElementsByTagName("*"),l=0;l<c.length;l++)r.push(c[l]);for(var l=0;l<r.length;l++){var p=r[l],u=null;if("IMG"==p.nodeName.toUpperCase()&&p.src&&o.test(p.src))u=[p.src];else if("LINK"==p.nodeName.toUpperCase()){var h=p.getAttribute("href");h&&o.test(h)&&(u=[h])}else"STYLE"==p.nodeName.toUpperCase()?u=p.innerHTML.match(n):"IFRAME"==p.nodeName.toUpperCase()&&p.src&&o.test(p.src)?u=[p.src]:p.getAttribute("style")&&(u=p.getAttribute("style").match(n));if(u)for(var f=!1,m=0;m<u.length;m++){var w=o.exec(u[m]);w&&w[2]&&s.test(w[2])||(i.push(u[m]),f=!0)}}i.length&&(d=!0,a(e?{type:"js",hiUrl:i[0]}:{type:"html",hiUrl:i[0]}))}}}function i(e,t){e=e||location.href;var n=new RegExp("(^|&|\\?|#)"+t+"=([^&#]*)(&|$|#)",""),o=e.match(n);return o?o[2]:null}function a(e){var t=document.location.href,n=[],o=i(t,"openid")||$.cookie("uin")||p||"",a=e.hiMsg?encodeURIComponent(e.hiMsg):"",s=e.hiUrl?encodeURIComponent(e.hiUrl):"",d=location.href.match(/^https:\/\//g)?1:0;1==d&&(e.type="https."+e.type),n.push("sIp="),n.push("iQQ="+o),n.push("sCgi="+r),n.push("sHiType="+e.type),n.push("sHiMsg="+a),n.push("sHiUrl="+s),n.push("sProt="+d),n.push("_dc="+Math.random());var c=new Image;c.onload=function(){},c.src="http://btrace.qq.com/kvcollect?BossId=3993&Pwd=1802193380&"+n.join("&")}var s=/^.*\.(qq\.com|gtimg\.com|gtimg\.cn|qlogo\.cn|qpic\.cn|sogoucdn\.com)$/i,r="",d=!1,c=function(e){return window.nativeStorage?window.nativeStorage.get(e):window.localStorage?window.localStorage[e]:void 0},l=function(e,t){if(window.nativeStorage)return window.nativeStorage.set(e,t);if(window.localStorage)try{window.localStorage[e]=t}catch(n){}},p=function(){var e=c("ukey");if(e)return e;var t=+new Date;return t="ukey_"+[t,Math.floor(t*Math.random()*Math.random()).toString().slice(-5)].join(""),l("ukey",t),t}();e.antiHijack={init:function(e){e.whiteReg&&(s=e.whiteReg),e.cgi&&(r=e.cgi),antiHijack.watch()},watch:function(){$(function(){e.addEventListener("DOMNodeInserted",o),setTimeout(function(){t(),o(),n()},1e3)})}}}(window),function(e){var t={installState:{UNKNOWN:0,INSTALLED:1,UNINSTALL:2,DOWNLOADING:3,INSTALLING:4,PAUSED:5,COMPLETED:6,FAILED:7},getNetworkType:function(e){mqq.device.getNetworkType(function(t){var n="";1===t&&(n="wifi"),e&&e(n)})},setShareInfo:function(e){e=e||{};var t={title:e.title||"",desc:e.desc||"",image_url:e.img_url||"",share_url:document.location.href};window.mqq&&mqq.data&&mqq.data.setShareInfo&&mqq.data.setShareInfo(t)},previewImage:function(e,t){window.mqq&&mqq.media&&mqq.media.showPicture&&(e=e||[],mqq.media.showPicture({imageIDs:e,index:t,isNotShowIndex:!1}))},getInstall:function(e){e=e||{};var t=e.packageName||"",n=e.packageUrl||"",o=e.call||function(){},i="",a=0;window.mqq&&mqq.app&&(i=mqq.iOS?n:t,mqq.android&&mqq.app.checkAppInstalled?mqq.app.checkAppInstalled(i,function(e){"0"!==e&&(a=1),o&&o(a,e)}):mqq.app.isAppInstalled&&mqq.app.isAppInstalled(i,function(e){e&&(a=1),o&&o(a)}))}},n=function(e){this.init(e)};n.downloaderList=[],n.prototype={install:0,init:function(e){e=e||{};var o=this;if(o.appid=e.appid,o.url=e.downLoadUrl,o.packageName=e.packageName,o.via=e.via,o.appName=e.taskName,o.stateChange=e.stateChange||function(){},o.install=t.installState.UNINSTALL,window.mqq&&mqq.invoke)if(n.downloaderList.push({appid:o.appid,queryCall:function(e){o.downloadStateChange(e)}}),mqq.compare("5.0.0")>=0){var i={guid:1,infolist:[{appid:o.appid,packageName:o.packageName}]};mqq.invoke("q_download","getQueryDownloadAction",i)}else if(mqq.compare("4.6.0")>=0){var i=[o.appid];mqq.invoke("q_download","getQueryDownloadAction",i,!1)}else{var i=[o.appid];mqq.invoke("q_download","getQueryDownloadAction",i,function(e){o.downloadStateChange(JSON.parse(e))})}if(!n.bindQuery){var a=function(e){for(var t={},o=0,i=e.length;o<i;o++){var a=e[o].appid;t[a]=e[o]}for(var s=n.downloaderList,o=0,i=s.length;o<i;o++){var a=s[o].appid;a in t&&s[o].queryCall(t[a])}};window.QzoneApp={},QzoneApp.fire=function(e,t){if(0==t.r&&"interface.getQueryDownloadAction"==e){var n=t.data;a(n)}},window.publicAccountDownload=window.publicAccountDownload||{},publicAccountDownload.queryProcess=function(e){a(e)},n.bindQuery=1}},downloadApp:function(e){if(window.mqq&&mqq.app&&mqq.app.downloadApp){var t=this,n={appid:t.appid,url:t.url,packageName:t.packageName,actionCode:e,via:t.via,appName:t.appName,isAutoInstall:1};mqq.app.downloadApp(n,function(e){t.downloadStateChange(e)}),window.mqqDownloadStateChange&&window.mqqDownloadStateChange()}},setDownloadState:function(e){var t=this;t.install=e,t.stateChange({state:t.install})},downloadStateChange:function(e){var n=this,o=t.installState,i=0;e=e||n.cacheInstallState,n.cacheInstallState=e,e&&e.state&&(e.download_id&&e.download_id!=n.downloadId||(2===e.state&&(n.install=o.DOWNLOADING,i=e.pro),3===e.state&&(n.install=o.PAUSED,i=e.pro),4!==e.state&&5!==e.state||(n.install=o.COMPLETED),6===e.state&&(n.install=o.INSTALLED),9===e.state&&(n.install=o.UNINSTALL),n.stateChange({state:n.install,pro:i})))},initBtn:function(e,n){var o=this;installState=t.installState,n="undefined"==typeof n?1:n,e&&e.addEventListener("click",function(e){var t;if($(e.target).hasClass("downloadBtn-app")?t=$(e.target):$(e.target).parents(".downloadBtn-app").length&&(t=$(e.target).parents(".downloadBtn-app")),t&&t.length){if(t.hasClass("disabled")||t.hasClass("open"))return;t.hasClass("hasClick")||(t.addClass("hasClick"),t.find(".app-tag").append('<div class="downloader_progress"></div>')),$(".downloadBtn-app").hasClass("install")||$.each($(".downloadBtn-app"),function(e,t){$(t).hasClass("hasClick")?($(t).find(".date").hide(),$(t).find(".source").hide(),$(t).find(".pro").show(),$(t).removeClass("disabled")):($(t).addClass("disabled"),$(t).find(".date").show(),$(t).find(".source").show(),$(t).find(".pro").hide())})}else $(".downloadBtn-app").hasClass("open")||$(".downloadBtn-app").hasClass("install")||($(".downloadBtn-app").hasClass("disabled")||$(".downloadBtn-app").addClass("disabled"),$.each($(".downloadBtn-app"),function(e,t){$(t).find(".pro").hide(),$(t).find(".date").show(),$(t).find(".source").show()}));switch(o.install){case installState.UNINSTALL:o.downloadActionInit(),e.preventDefault();break;case installState.DOWNLOADING:n&&o.pause(),e.preventDefault();break;case installState.PAUSED:o.restart(),e.preventDefault();break;case installState.COMPLETED:o.installDownload(),e.preventDefault()}})},start:function(){this.downloadApp(2),this.downloadStateChange({res:2,pro:2})},restart:function(){this.downloadActionInit()},pause:function(){this.downloadApp(3)},installDownload:function(){this.downloadApp(5)},downloadActionInit:function(){var t=this;e.downloadConfirmSwitch?mqq.device.getNetworkType(function(e){1!==e?t.showDownloadConfirm(function(){t.start()}):t.start()}):t.start()},showDownloadConfirm:function(e){var t=this,n=[];n.push('<div id="download_confirm_wrap">'),n.push('<div id="download_confirm">'),n.push('<div class="confirm_des">您在非wifi环境，下载会使用运营商流量，确认开始下载？</div>'),n.push('<div class="confirm_btn_wrap">'),n.push('<div id="confirm_btn_cancel">取消</div>'),n.push('<div id="confirm_btn_ok">确认</div>'),n.push("</div>"),n.push("</div></div>"),$(document.body).append(n.join("")),$("#download_confirm_wrap").on("click",function(n){var o=$(n.target);"confirm_btn_ok"==o.attr("id")&&(e&&$.isFunction(e)?e():"",t.boss("download_confirm_ok"),$("#download_confirm_wrap").remove()),"confirm_btn_cancel"==o.attr("id")&&(t.boss("download_confirm_cancel"),$("#download_confirm_wrap").remove())})},boss:function(t){var n=document.location.href,o=[],i=$.cookie("uin")||"",a=2,s=this;refer=s.getQuery(n,"refer")||"",t="cy_"+t,o.push("sIp="),o.push("iQQ="+i),o.push("sBiz="+encodeURIComponent("appnews.front.newsOpen")),o.push("sOp="+t),o.push("sUrl="),o.push("sRef="+refer),o.push("appType="+a),o.push("bonusType="),o.push("sOsType="+e.mobileType),o.push("bucket="),o.push("appInstallStatus=0"),o.push("sNewsId="+e.newsId),o.push("iAppFlag="),o.push("hitGray="),o.push("icfHitGray="),o.push("iProt="),o.push("_dc="+Math.random());var r=new Image;r.onload=function(){},r.src="http://btrace.qq.com/kvcollect?BossId=3384&Pwd=1187914057&"+o.join("&")},getQuery:function(e,t){e=e||location.href;var n=new RegExp("(^|&|\\?|#)"+t+"=([^&#]*)(&|$|#)",""),o=e.match(n);return o?o[2]:null}},t.downloader=n,"function"==typeof define?define("mqqApi",[],function(){return t}):e.mqqApi=t}(window),function(e){var t={installState:{UNKNOWN:0,INSTALLED:1,UNINSTALL:2,DOWNLOADING:3,INSTALLING:4,PAUSED:5,COMPLETED:6,FAILED:7},ready:function(e){window.wx?wx.ready(e):"undefined"!=typeof WeixinJSBridge?e():document.addEventListener("WeixinJSBridgeReady",e)},getNetworkType:function(e){this.ready(function(){WeixinJSBridge.invoke("getNetworkType",{},function(t){var n="";"network_type:wifi"===t.err_msg&&(n="wifi"),e&&e(n)})})},setShareInfo:function(e,t,n){this.share2Friends(e,t,n),this.share2Timeline(e,t,n),this.share2QQ(e,t,n),this.share2QZone(e,t,n)},share2Friends:function(e,t,n){e=e||{};var o={title:e.title||"",desc:e.desc||"",link:e.link||document.location.href,appid:e.appid||""};window.wx?(o.imgUrl=e.img_url||"",wx.ready(function(){wx.onMenuShareAppMessage(o)})):(o.img_url=e.img_url||"",o.img_width="65",o.img_height="65",this.ready(function(){WeixinJSBridge.on("menu:share:appmessage",function(e){WeixinJSBridge.invoke("sendAppMessage",o,function(e){WeixinJSBridge.log(e.err_msg),!e||"send_app_msg:confirm"!=e.err_msg&&"send_app_msg:ok"!=e.err_msg||(t("share_succ"),t("share_appmessage"))})})}))},share2Timeline:function(e,t,n){e=e||{};var o={title:e.title||"",link:e.link||document.location.href,appid:e.appid||""};window.wx?(o.imgUrl=e.img_url||"",wx.ready(function(){wx.onMenuShareTimeline(o)})):(o.img_url=e.img_url||"",o.img_width="65",o.img_height="65",o.desc=e.desc||"",this.ready(function(){WeixinJSBridge.on("menu:share:timeline",function(e){WeixinJSBridge.invoke("shareTimeline",o,function(e){WeixinJSBridge.log(e.err_msg),e&&"share_timeline:ok"==e.err_msg&&(t("share_succ"),t("share_timeline"))})})}))},share2QQ:function(e){e=e||{};var t={title:e.title||"",link:e.link||document.location.href,desc:e.desc||"",imgUrl:e.img_url||""};window.wx&&wx.ready(function(){wx.onMenuShareQQ(t)})},share2QZone:function(e){e=e||{};var t={title:e.title||"",link:e.link||document.location.href,desc:e.desc||"",imgUrl:e.img_url||""};window.wx&&wx.ready(function(){wx.onMenuShareQZone(t)})},openShare:function(){var e=this;e.ready(function(){WeixinJSBridge.invoke("showOptionMenu")})},previewImage:function(e,t){e=e||[];var n=e[t];n&&(window.wx?wx.previewImage({current:n,urls:e}):WeixinJSBridge.invoke("imagePreview",{current:n,urls:e}))},getInstall:function(e){e=e||{};var t=e.packageName||"",n=e.packageUrl||"",o=0,i=this;i.ready(function(){if(WeixinJSBridge.invoke){var i=0;WeixinJSBridge.invoke("getInstallState",{packageName:t,packageUrl:n},function(t){var n=t.err_msg;n.indexOf("get_install_state:yes")>-1&&(o=1,i=n.match(/_([0-9]+)/),i&&i[1]&&(i=parseInt(i[1]))),e.call&&e.call(o,i)})}})},openApp:function(e,t){var n,o=this;e&&o.ready(function(){WeixinJSBridge.invoke("launchApplication",e,function(o){n=o.err_msg,n.indexOf("fail")>-1&&(t&&t("open_failed"),setTimeout(function(){WeixinJSBridge.invoke("launchApplication",e,function(e){n=e.err_msg,n.indexOf("fail")>-1&&t&&t("open_failed_again")})},0))})})}},n=function(e){this.init(e)};n.prototype={install:0,init:function(e){e=e||{};var n=this;n.taskName=e.taskName,n.stateChange=e.stateChange||function(){},n.install=t.installState.UNINSTALL,n.downLoadUrl=e.downLoadUrl||"",n.downloadMd5=e.downloadMd5||"",n.packageName=e.packageName||"",n.packageUrl=e.packageUrl||"",n.downloadIdKey=n.packageName+n.downloadMd5,t.ready(function(){n.downloadId=n.getData(n.downloadIdKey),n.downloadId&&WeixinJSBridge.invoke&&WeixinJSBridge.invoke("queryDownloadTask",{download_id:n.downloadId},function(e){n.install!==t.installState.INSTALLED&&n.downloadStateChange(e)}),WeixinJSBridge.on&&WeixinJSBridge.on("wxdownload:state_change",function(e){n.downloadStateChange(e),window.weixinDownloadStateChange&&window.weixinDownloadStateChange(e)}),WeixinJSBridge.on&&WeixinJSBridge.on("wxdownload:progress_change",function(e){n.downloadingProGressChange(e)})})},setDownloadState:function(e){var t=this;t.install=e,t.stateChange({state:t.install})},downloadStateChange:function(e){var n=this,o=t.installState;e=e||n.cacheInstallState,n.cacheInstallState=e,e&&e.state&&(e.download_id&&e.download_id!=n.downloadId||("download_succ"==e.state&&(n.install=o.COMPLETED,n.btnClick&&n.setStateTimer()),"default"==e.state,"downloading"==e.state&&(n.install=o.DOWNLOADING),"download_fail"==e.state&&(n.install=o.FAILED,n.clearTask()),"download_removed"==e.state&&(n.install=o.UNINSTALL,n.clearTask()),n.stateChange({state:n.install})))},downloadingProGressChange:function(e){var t=this;e&&(e.download_id&&e.download_id!=t.downloadId||t.stateChange({state:t.install,pro:e.progress}))},initBtn:function(e,n){var o=this;installState=t.installState,n="undefined"==typeof n?1:n,e&&e.addEventListener("click",function(t){o.btnClick=1;var i;if($(t.target).hasClass("downloadBtn-app")?i=$(t.target):$(t.target).parents(".downloadBtn-app").length&&(i=$(t.target).parents(".downloadBtn-app")),i&&i.length){if(i.hasClass("disabled")||i.hasClass("open"))return;i.hasClass("hasClick")||(i.addClass("hasClick"),i.find(".app-tag").append('<div class="downloader_progress"></div>')),$(".downloadBtn-app").hasClass("install")||$.each($(".downloadBtn-app"),function(e,t){$(t).hasClass("hasClick")?($(t).find(".date").hide(),$(t).find(".source").hide(),$(t).find(".pro").show(),$(t).removeClass("disabled")):($(t).addClass("disabled"),$(t).find(".date").show(),$(t).find(".source").show(),$(t).find(".pro").hide())})}else $(".downloadBtn-app").hasClass("open")||$(".downloadBtn-app").hasClass("install")||($(".downloadBtn-app").hasClass("disabled")||$(".downloadBtn-app").addClass("disabled"),$.each($(".downloadBtn-app"),function(e,t){$(t).find(".pro").hide(),$(t).find(".date").show(),$(t).find(".source").show()}));switch(o.install){case installState.UNINSTALL:o.start(e),t.preventDefault();break;case installState.DOWNLOADING:n&&o.pause(),t.preventDefault();break;case installState.PAUSED:o.restart(e),t.preventDefault();break;case installState.COMPLETED:o.installDownload(),t.preventDefault()}})},start:function(){var e=this;t.ready(function(){WeixinJSBridge.invoke?WeixinJSBridge.invoke("addDownloadTask",{task_name:e.taskName,task_url:e.downLoadUrl,file_md5:e.downloadMd5,title:"天天快报-腾讯精心打造的兴趣阅读产品",thumb_url:"http://mat1.gtimg.com/www/images/newsapp/wechat/kuaibao_icon_1.png"},function(n){var o=n.err_msg;return o.indexOf("add_download_task:ok")>-1?(e.downloadId=n.download_id,e.setData(e.downloadIdKey,e.downloadId),e.install=t.installState.DOWNLOADING,void e.stateChange({state:e.install})):void e.stateChange({state:t.installState.UNINSTALL})}):e.failHandler()})},restart:function(){this.start()},pause:function(){this.stop()},stop:function(){var e=this,n=e.downloadId||e.getData(e.downloadIdKey);t.ready(function(){n&&WeixinJSBridge.invoke&&WeixinJSBridge.invoke("cancelDownloadTask",{download_id:n,file_md5:e.downloadMd5},function(n){var o=n.err_msg;o.indexOf("cancel_download_task:ok")>-1&&(e.install=t.installState.UNINSTALL,e.stateChange({state:e.install}))})})},installDownload:function(){var e=this,n=e.downloadId||e.getData(e.downloadIdKey);t.ready(function(){n&&WeixinJSBridge.invoke&&WeixinJSBridge.invoke("installDownloadTask",{download_id:n,file_md5:e.downloadMd5},function(t){var n=t.err_msg;n.indexOf("install_download_task:ok")>-1&&e.setStateTimer()})})},setStateTimer:function(){var e=this;e.wxIntervalTimer&&clearInterval(e.wxIntervalTimer),e.wxIntervalTimer=setInterval(function(){t.getInstall({packageName:e.packageName,packageUrl:e.packageUrl,call:function(n){n===t.installState.INSTALLED&&(e.install=t.installState.INSTALLED,e.stateChange({state:e.install}),clearInterval(e.wxIntervalTimer))}})},1e3),setTimeout(function(){clearInterval(e.wxIntervalTimer)},6e4)},clearTask:function(){var e=this,t=e.getData(e.downloadIdKey);t&&e.setData(e.downloadIdKey,""),e.downloadId=""},failHandler:function(){_this.install=t.installState.FAILED,_this.stateChange({state:_this.install})},getData:function(e){return window.localStorage?window.localStorage[e]:""},setData:function(e,t){window.localStorage&&(window.localStorage[e]=t)}},t.downloader=n,"function"==typeof define?define("weixinApi",[],function(){return t}):e.weixinApi=t}(window),function(e){var t={installState:{UNKNOWN:0,INSTALLED:1,UNINSTALL:2,DOWNLOADING:3,INSTALLING:4,PAUSED:5,COMPLETED:6,FAILED:7},ready:function(e){window.TenvideoJSBridge?e():document.addEventListener("onTenvideoJSBridgeReady",e)},setShareInfo:function(e,t){},getInstall:function(e){e=e||{};var t=e.packageName||"",n=e.packageUrl||"",o=this;o.ready(function(){TenvideoJSBridge.invoke&&TenvideoJSBridge.invoke("isInstalled",{pkgName:t,pkgUrl:n},function(t){t=JSON.parse(t);var n=t.result&&t.result.installed;e.call&&e.call(n)})})},getNetworkType:function(){}},n=function(e){this.init(e)};n.prototype={install:0,init:function(e){e=e||{};var n=this;n.taskName=e.taskName,n.stateChange=e.stateChange||function(){},n.install=t.installState.UNINSTALL,n.downLoadUrl=e.downLoadUrl||"",n.downloadMd5=e.downloadMd5||"",n.packageName=e.packageName||"",n.packageUrl=e.packageUrl||""},initBtn:function(){},setDownloadState:function(){}},t.downloader=n,"function"==typeof define?define("tentvideoJSApi",[],function(){return t}):e.tentvideoJSApi=t}(window),$(function(){function e(){var e="";return A(location.href,"openid")?e="&extinfo="+encodeURIComponent("openid="+A(location.href,"openid")):$.cookie("uin")&&(e="&extinfo="+encodeURIComponent("uin="+$.cookie("uin"))),e}function t(){Re&&(window.isVideoNews=0),$.app.weixin&&Re&&pe&&($(".view_source_wrap .report").show(),$(".care_wrap").show()),pe&&pe!=ue&&(localStorage.setItem("openid",pe),localStorage.setItem("careNewsList",""));var e=$(".care_btn_wrap .care_num");if(window.likeCount&&(e.data("care_num",window.likeCount),e.text(b(window.likeCount))),Ee.length&&Ee.indexOf(window.newsId)>-1){var t=$(".care_btn_wrap .care_img");t.addClass("selected")}$.isMobile&&setTimeout(function(){x()},100),$(window).on("load",function(){setTimeout(function(){n(),Re||T()},0)}),k(),$(document).on("scroll",function(){var e=document.body.scrollTop||document.documentElement.scrollTop;if($(".recomBox").length){var t=$(".recomBox").offset().top;e+window.innerHeight>=t&&!$e&&($e=!0,B("recomnews_show"),_())}if($(".downloadBtn-hot").length){var n=$(".downloadBtn-hot").offset().top;e+window.innerHeight>=n&&!ye&&(ye=!0,B("downloadBtnHot_show"))}}),$(document).trigger("scroll")}function n(){var e,t={};t.id=newsId,Pe&&(t.debug=1),window.mediaChlid?t.chlid=window.mediaChlid:window.mediaOpenid&&(t.openid=window.mediaOpenid),Re&&(t.source="recommlist"),fe&&(t._tb=1),t.alg_version=1,e=$.ajax({url:"//view.inews.qq.com/getRelateRecomm",data:t,dataType:"jsonp",success:function(e){if(0===e.ret&&e.info&&e.info.length){var t;e.other&&e.other.length&&(ae=e.other[0]),e.info.length>=3&&w(e.info.slice(0,Le)),3==Ge?(e.info.length>15&&(t=e.info.splice(0,15),e.info.length=15),o(t,e.info.length)):o(e.info,e.info.length)}else $(".recomBox").hide()}})}function o(e,t){var n=[];t&&e.length>t?(Me=e,e=Me.splice(0,t)):(Me=[],$(".recomBox .loading-box").remove(),$(".downloadBtn-bottom").show());for(var i=0;i<e.length;i++){var a,s,r=e[i],d="",c=r.thumbnails_qqnews||[],l=y(r.pubtime),p="",u="",h=0;if(Pe&&r.debug_info&&(r.src+="["+r.debug_info.reason+"]"),!r.appOnly||Re||window.disableBtn?r.reasonflag&&"hot"===r.reasonflag&&(u='<span class="tag hot-tag">热点</span>'):(s="qnreading://article_detail?nm="+r.id+ne,p='data-openurl="'+s+'"',u='<span class="tag app-tag"><span class="download_text">下载天天快报阅读</span><span class="pro">0%</span></span>'),"promot_act"!==r.id&&(r.link=r.link.replace("view.inews.qq.com/a/","kuaibao.qq.com/s/"),r.link="//kuaibao.qq.com/s/"+r.id),Re?(r.link=O(r.link,"refer","recommlist"),r.link=O(r.link,"openid",pe)):"tx_wxcoop"==A(window.location.href,"refer")?r.link=O(r.link,"refer","tx_wxcoop"):r.link=O(r.link,"refer","cyshare_recomnews"),r.relateType&&(a=r.relateType.toLowerCase(),"icf"===a&&(h=1,ve||(B("recomnews_has_icf"),ve=!0))),c.length>=3){for(var w=[],g=0;g<3;g++)w.push('<div class="img-wrap" style="background-image:url('+c[g]+')"><!--<img src="'+c[g]+'"/>--></div>');d='                    <a href="'+r.link+'" '+p+' newsid="'+r.id+'" artflag="'+a+'" index='+_e+'>                        <div class="item multi '+(r.appOnly&&!Re?"app downloadBtn downloadBtn-app":"")+'">                            <div class="news-tit"><span>'+r.title+'</span></div>                            <div class="multi-pic">'+w.join("")+'</div>                            <p class="info-bar">'+u+'<span class="date">'+l+'</span><span class="source">'+r.src+(h&&Ie?"[ICF]":"")+"</span></p>                        </div>                    </a>                "}else d=c.length?'                    <a href="'+r.link+'" '+p+' newsid="'+r.id+'" artflag="'+a+'" index='+_e+'>                    <div class="item '+(r.appOnly&&!Re?"app downloadBtn downloadBtn-app":"")+'">                            <div class="thumb" style="background-image:url('+c[0]+')"></div>                            <div class="news-tit"><span>'+r.title+'</span></div>                            <p class="info-bar">'+u+'<span class="date">'+l+'</span><span class="source">'+r.src+(h&&Ie?"[ICF]":"")+"</span></p>                        </div>                    </a>                ":'                    <a href="'+r.link+'" '+p+' newsid="'+r.id+'" artflag="'+a+'" index='+_e+'>                        <div class="item noimg '+(r.appOnly&&!Re?"app downloadBtn downloadBtn-app":"")+'">                            <div class="news-tit"><span>'+r.title+'</span></div>                            <p class="info-bar">'+u+'<span class="date">'+l+'</span><span class="source">'+r.src+(h&&Ie?"[ICF]":"")+"</span></p>                        </div>                    </a>                ";_e++,n.push(d)}if(n.length)if($(".recomBox .itemlist a").length)$(".recomBox .itemlist").append(n.join(""));else{if($(".recomBox .loading-box").text("正在加载更多..."),$(".recomBox .itemlist").append(n.join("")),$.os.android&&Ze&&Ze.getInstall({packageName:"com.tencent.android.qqdownloader",packageUrl:"tmast://",call:function(e){if(e){var t="",n="";$.app.wx?(t="ANDROIDWX.YYB.KUAIBAOSHARE",n="com.tencent.mm"):$.app.mqq&&(t="ANDROIDQQ.YYB.KUAIBAOSHARE",n="com.tencent.mqq"),window.recomJumpYYBUrl="tmast://appdetails?pname="+Ue.packageName+"&oplist=1;2&channelid="+newsChannel+"&via="+t+"&hostpname="+n+"&hostversioncode="+$.app.version,m()}}}),m(),Re)$(".downloadBtn-bottom").show();else{var v=!1;$(document).on("scroll",function(){if(!Me.length)return $(".hotvideo-box")&&$(".hotvideo-box").show(),void $(".downloadBtn-bottom").show();var e=document.body.scrollTop||document.documentElement.scrollTop;$("body").height()-e-window.innerHeight<150&&!v&&(v=!0,
setTimeout(function(){o(Me,10),v=!1},0))})}$(".recomBox .itemlist").on("click","a",function(e){var t=$(this).attr("newsid");if("promot_act"!==t){$(this).data("openurl")&&e.preventDefault();var n=$(this).attr("href"),o=$(this).attr("artflag");switch(o){case"icf":B("recomnews_icf_click");break;case"tag":B("recomnews_tag_click");break;case"hot":B("recomnews_hot_click")}if(E(this),$(this).find(".big-img").length&&B("bigImg_click"),$(this).find(".app-tag.download").length){if(B("appnews_click_download_4"),B("appnews_click_download_all"),B("download_click"),$.os.android)return void B(window.recomJumpYYBUrl?"appnews_click_jumpyyb":window.isHitGray?"appnews_click_jumpyybpage":"appnews_click_download");B("appnews_click_download")}else $(this).find(".app-tag.open").length?(4==$(this).attr("index")&&B("appnews_click_open_4"),B("appnews_click_open"),B("open_click")):B("recomnews_click");$(this).find(".app-tag.open").length?window.newWxSchemeOpen&&Ze?Z(n,B):window.location.href=n:$(this).find(".app-tag")?($(this).attr("index")>Ae||$.os.iphone||!$.os.ios&&!$.os.android&&window.innerWidth>850)&&(window.location.href=n):window.location.href=n}})}Ze&&$(".recomBox .app-tag").addClass("show"),$.each($(".downloadBtn-app"),function(e,t){$(t).attr("inited")||(f($(t)[0]),$(t).attr("inited","1"))})}function i(){var e,t={};return t.id=newsId,e=$.ajax({url:"//view.inews.qq.com/getFilterCase",data:t,dataType:"jsonp",success:function(e){e&&0==e.ret&&1==e.state&&(ge=1,$(".pick_comments .module-tit").show(),$(".pick_comments .commentlist").show(),r())}})}function a(){var e=$.ajax({url:"//kuaibao.qq.com/getQQNewsComment",data:{id:newsId,comment_id:commentId,from:"share",lcount:2,v:+(new Date).getTime(),otype:"jsonp"},dataType:"jsonp",success:function(e){e&&s(e),window.openComment&&1!=Ge&&e&&0==e.ret&&window.commentController&&commentController.init(B)}});return e}function s(e){if(0===e.ret&&e.comments){var t=e.comments.count;if(e.comments.list&&e.comments.list.length||e.comments.pick&&e.comments.pick.length){var n,o=!(!e.comments.pick||!e.comments.pick.length),i=o?e.comments.pick:e.comments.list,a=[];a.push('<div class="pick_comments"><div class="module-tit">'+(o?"作者精选":"热门评论")+'</div><div class="commentlist">');for(var s=0;s<i.length;s++){n=i[s][0],a.push('<div class="item"> '),a.push('<div class="avatar"><img src="'+n.head_url+'"/></div>');var d=n.mb_nick_name?n.mb_nick_name+"<i></i>":n.nick;a.push('<div class="nameBar emojitest">'+d+"<span>"+y(n.pub_time)+'</span></div>                                                                                                              <div class="contentBox">'),a.push('<p class="emojitest '+(n.pic.length?"hasimg":"")+'">'+n.reply_content+"</p>");var c=n.pic.length?'<a href="##" class="imgbox smallImg" data-src="'+n.pic[0].origUrl+'" style="background-image:url('+n.pic[0].url+')"></a>':"";if(a.push(c),a.push('<div class="pubPlace">'+(n.xy[0].address?"<span></span>发表于"+n.xy[0].address:"")+"</div>"),a.push('<a href="##" class="moreBtn" data-id="'+s+'">展开</a>'),a.push("</div>"),o&&i[s][1]){var l=i[s][1];a.push('<div class="reply_box">');var p=cardInfo&&l.mediaid==cardInfo.chlid?" author":"";d=l.mb_nick_name?l.mb_nick_name+"<i></i>":l.nick,a.push('<div class="reply_nameBar emojitest'+p+'">'+d+"</div>"),a.push('<p class="emojitest">'+l.reply_content+"</p>"),a.push('<a href="##" class="moreBtn" data-id="'+s+'">展开</a>'),a.push("</div>")}a.push("</div>")}window.disableBtn||(parseInt(t)||(Ue.wording.downloadComment="下载天天快报看评论",Ue.wording.openComment="打开天天快报看评论"),a.push('</div><a class="downloadBtn downloadBtn-comment" href="'+Ue.downloadUrl+'" data-count="'+b(t)+'">                            <div class="downloader_progress"></div>                            <div class="downloader_text"><span>'+Ue.wording.downloadComment.replace("{count}",b(t))+"</span></div>                        </a>                    ")),a.push("</div>"),$(".commentBox").html(a.join("")),1==ge&&($(".pick_comments .module-tit").show(),$(".pick_comments .commentlist").show(),r()),$(".moreBtn").on("click",function(){return $(this).siblings("p").removeClass("overimg over"),$(this).hide(),B("moreBtnClick"),!1}),$.ajax({url:(M(document.location.href)?"https://mats":"http://mat1")+".gtimg.com/www/images/newsapp/newsshare/emojiFix.min.js",dataType:"script",success:function(){window.emojiFix&&emojiFix($(".pick_comments .commentlist")[0])}})}else window.disableBtn||window.isHotChannel||($(".commentBox").html('<a class="downloadBtn downloadBtn-comment" href="'+Ue.downloadUrl+'" data-count="0">                        <div class="downloader_progress"></div>                        <div class="downloader_text"><span>'+Ue.wording.downloadNoComment+"</span></div>                    </a>                "),$(".downloadBtn-comment").css({margin:"40px 16px 10px 16px"}));$(".downloadBtn-comment")[0]&&(f($(".downloadBtn-comment")[0]),B("commentShow"),$(".downloadBtn-comment").on("click",function(e){$(this).hasClass("open")?(window.newWxSchemeOpen&&Ze&&(e.preventDefault(),Z(Ue.openCommentUrl,B)),B("openClickComment"),B("open_click")):(B("downloadClickComment"),B("download_click"))}));var u=A(window.location.href,"refer");t&&"0"!=t&&"recommlist"!=u&&$("#content .src,.card-box .desc").append('<span style="margin-left:10px;">'+b(t)+"评</span>")}}function r(){$(".pick_comments .contentBox p,.pick_comments .reply_box p").each(function(){$(this).hasClass("hasimg")?$(this).height()>50&&($(this).siblings(".moreBtn").css({"float":"right"}),$(this).siblings(".moreBtn").show(),$(this).addClass("overimg")):$(this).height()>102&&($(this).siblings(".moreBtn").show(),$(this).addClass("over"))})}function d(e){$("body").append('<div class="preview-box"><a href="javascript:void(0)" class="origImg"><img src="'+e+'" class="origImg"></a></div>')}function c(){var e=$(".gifP");e&&e.length>0&&($(".gifP").on("click","[gif_url]",function(){p($(this))}),$(".gifP .gif_size").each(function(e,t){l(t)}))}function l(e){var t=$(e).text();t=t.replace(/(\d)+K/i,function(e){var t=parseInt(e);return t>1024?(t/1024).toFixed(1)+"M":e}),$(e).text(t)}function p(e){$(e).each(function(e,t){var n=$(t),o=n.attr("gif_url");o&&(n.attr("src",o),n.removeAttr("gif_url"),u(n.parent()),n.on("load",function(e){var t=$(this).parent();t.find(".gif_right_bottom").remove(),t.find(".loading").remove(),$(this).css({height:"auto"})}))}),$(".gif-box .gif-btn").trigger("click")}function u(e){var t=[];t.push('<div class="loading">'),t.push('<p class="p1"><span class="bar1"></span><span class="bar7"></span></p>'),t.push('<p class="p2"><span class="bar2"></span><span class="bar8"></span></p>'),t.push('<p class="p3"><span class="bar3"></span><span class="bar9"></span></p>'),t.push('<p class="p4"><span class="bar4"></span><span class="bar10"></span></p>'),t.push('<p class="p5"><span class="bar5"></span><span class="bar11"></span></p>'),t.push('<p class="p6"><span class="bar6"></span><span class="bar12"></span></p>'),t.push("</div>"),e&&$(e).prepend(t.join(""))}function h(){return $.app.weixin?weixinApi:$.app.mqq?mqqApi:$.app.QQLiveBrowser?window.tentvideoJSApi:null}function f(e,t){e&&Ze&&$.os.android&&(window.downloader=window.downloader||new Ze.downloader(ot),window.downloader.initBtn(e),t&&window.downloader.setDownloadState(t)),m()}function m(e){if(Ze&&(e=e||ce||{},e.state)){var t,n=Ze.installState;switch(ce=e,e.state){case n.INSTALLED:$(".downloadBtn-hot").removeClass("install"),$(".downloadBtn-hot").removeClass("pause"),$(".downloadBtn-hot").removeClass("downloading"),v(),$.each($(".downloadBtn-app"),function(e,t){$(t).removeClass("disabled"),$(t).find(".date").show(),$(t).find(".source").show(),$(t).find(".pro").hide()}),$(".downloadBtn").addClass("open"),$(".downloadBtn .downloader_text span").html(Ue.wording.open),$(".downloadBtn").attr("href",Ue.openUrl),t=$(".downloadBtn-comment").attr("data-count"),"0"===t?$(".downloadBtn-comment .downloader_text span").html(Ue.wording.openNoComment):$(".downloadBtn-comment .downloader_text span").html(Ue.wording.openComment.replace("{count}",t)),$(".downloadBtn-comment").attr("href",Ue.openCommentUrl),$(".downloadBtn-banner .downloader_text span").html(Ue.wording.openBanner),$(".downloadBtn-video .downloader_text span").html(Ue.wording.openHotVideo),$(".downloadBtn-hot .downloader_text span").html(Ue.wording.openHotChannel),$(".downloadBtn-hot").attr("href","qnreading://tab_reading?chlid=kb_news_baibaihe&mode=1"),$("a[data-openurl]").each(function(){var e=$(this).attr("data-openurl");xe&&(e=e.replace("qnreading://","qnreadingplus://")),e&&$(this).attr("href",e),$(this).addClass("open")}),$(".app-tag").removeClass("download downloading").addClass("open").html("打开天天快报阅读"),$(".hotVideoBox .itemlist a[data-openurl]").each(function(){var e=$(this).data("id"),t=$(this).find(".app");t.text(Ue.wording.appOpen),$(this).attr("href","qnreading://article_detail?nm="+e+ne),xe&&$(this).attr("href","qnreadingplus://article_detail?nm="+e+ne)});break;case n.UNKNOWN:$.each($(".downloadBtn-app"),function(e,t){$(t).removeClass("disabled"),$(t).find(".date").show(),$(t).find(".source").show(),$(t).find(".pro").hide()});break;case n.UNINSTALL:$.each($(".downloadBtn-app"),function(e,t){$.app.weixin&&$(t).removeClass("hasClick"),$(t).removeClass("disabled"),$(t).find(".date").show(),$(t).find(".source").show(),$(t).find(".pro").hide(),$(t).find(".app-tag .download_text").text("下载天天快报阅读")}),$(".downloadBtn").removeClass("downloading"),$(".downloadBtn").removeClass("install"),$(".downloadBtn").removeClass("open"),$(".downloadBtn .downloader_text span").html(Ue.wording.download),t=$(".downloadBtn-comment").attr("data-count"),"0"===t?$(".downloadBtn-comment .downloader_text span").html(Ue.wording.downloadNoComment):$(".downloadBtn-comment .downloader_text span").html(Ue.wording.downloadComment.replace("{count}",t)),$(".downloadBtn-banner .downloader_text span").html(Ue.wording.downloadBanner),$(".downloadBtn-hot .downloader_text span").html(Ue.wording.downloadHotChannel);var o=Ue.downloadUrl;$.os.android&&(o="http://view.inews.qq.com/onlyAppShareDownload?chlnum=1676&refer=share_recom&newsid="+window.newsId),$(".itemlist a[data-openurl]").each(function(e,t){$(this).attr("href",o),$(this).find(".app-tag").addClass("download")}),$(".hotVideoBox .itemlist a[data-openurl]").each(function(){$(this).attr("href",o);var e=$(this).find(".app");e.addClass("download"),e.text(Ue.wording.appDownload)}),$(".downloadBtn .downloader_progress").width("0%");break;case n.FAILED:$.each($(".downloadBtn-app"),function(e,t){$(t).removeClass("disabled"),$(t).find(".date").show(),$(t).find(".source").show(),$(t).find(".pro").hide()});break;case n.DOWNLOADING:$(".downloadBtn-hot").removeClass("install"),$(".downloadBtn-hot").removeClass("pause"),$(".downloadBtn-hot").addClass("downloading"),$.each($(".downloadBtn-app"),function(t,n){$(n).removeClass("pause"),$(n).hasClass("hasClick")?($(n).find(".date").hide(),$(n).find(".source").hide(),$(n).addClass("downloading"),$(n).find(".pro").html("0%").show(),"undefined"!=typeof e.pro&&e.pro&&$(n).find(".app-tag .pro").text(e.pro+"%")):($(n).addClass("disabled"),$(n).find(".date").show(),$(n).find(".source").show(),$(n).find(".pro").hide()),$(n).find(".app-tag .download_text").text("正在下载天天快报")}),$(".downloadBtn .downloader_text span").html(Ue.wording.downloading),"undefined"!=typeof e.pro&&e.pro&&$(".downloadBtn .downloader_progress").width(e.pro+"%"),$(".downloadBtn-zutu .text").html("正在下载"),$(".downloadBtn-banner .downloader_text span").html(Ue.wording.downloadingBanner);var o=Ue.downloadUrl;$.os.android&&(o="http://view.inews.qq.com/onlyAppShareDownload?chlnum=1676&newsid="+window.newsId),$(".itemlist a[data-openurl]").each(function(){$(this).attr("href",o),$(this).find(".app-tag").addClass("download")});break;case n.PAUSED:$(".downloadBtn-hot").removeClass("install"),$(".downloadBtn-hot").addClass("pause"),$(".downloadBtn-hot").removeClass("downloading"),$.each($(".downloadBtn-app"),function(e,t){$(t).hasClass("pause")||($(t).addClass("pause"),$(t).removeClass("hasClick")),$(t).removeClass("disabled"),$(t).removeClass("downloading"),$(t).find(".app-tag .download_text").text("下载天天快报阅读"),$(t).find(".date").show(),$(t).find(".source").show(),$(t).find(".pro").hide()}),$(".downloadBtn .downloader_text span").html(Ue.wording.pause),$(".downloadBtn-zutu .text").html("暂停下载"),e.pro&&$(".downloadBtn .downloader_progress").width(e.pro+"%");var o=Ue.downloadUrl;$.os.android&&(o="http://view.inews.qq.com/onlyAppShareDownload?chlnum=1676&newsid="+window.newsId),$(".itemlist a[data-openurl]").each(function(){$(this).attr("href",o),$(this).find(".app-tag").addClass("download")});break;case n.COMPLETED:$.each($(".downloadBtn-app"),function(e,t){$(t).find(".pro").hide(),$(t).removeClass("disabled"),$(t).find(".date").show(),$(t).find(".source").show(),$(t).find(".app-tag .download_text").text("安装天天快报")}),$(".downloadBtn").removeClass("downloading"),$(".downloadBtn").addClass("install"),$(".downloadBtn .downloader_text span").html(Ue.wording.install),$(".downloadBtn-banner .downloader_text span").html(Ue.wording.installBanner),$(".downloadBtn-zutu .text").html("安装天天快报");var o=Ue.downloadUrl;$.os.android&&(o="http://view.inews.qq.com/onlyAppShareDownload?chlnum=1676&newsid="+window.newsId),$(".itemlist a[data-openurl]").each(function(){$(this).attr("href",o),$(this).find(".app-tag").addClass("download")})}}}function w(e){var t=[],n=0;if(2==Ge){n=1,t.push('<div class="slider-box top">'),t.push('<ul class="slider-list">');var o='<li class="slider-item slider-item-1" newsid="'+window.newsId+'">                        <div class="logo"><img class="image" src="http://mat1.gtimg.com/www/images/newsapp/cyshare/logo_20170414.png"/></div>                        <div class="banner-label">                        <p class="title-main">天天快报</p>                        <p class="title-sub">腾讯兴趣阅读产品</p>                        </div>                        <div class="download-text">打开</div>                        <div class="close"></div>                    </li>';t.push(o)}else t.push('<div class="slider-box">'),t.push('<ul class="slider-list">');for(var i=0;i<=Le;i++){var a,s,r=[];i<Le&&(a=e[i],s=a.thumbnails_qqnews,r.push('<li class="slider-item slider-item-'+(n+1)+'" newsid="'+a.id+'">'),s&&s.length?(r.push('<div class="img-wrap"><img class="image" src="'+s[0]+'"/></div>'),r.push('<p class="news-title">'+a.title+'</p><div class="download-text">打开</div>')):r.push('<p class="news-title no-img">'+a.title+'</p><div class="download-text">打开</div>'),r.push('<div class="close"></div></li>'),t.push(r.join("")),n++)}t.push("</ul>"),t.push("</div>"),$("body").append(t.join("")),v(),$(".slider-item").on("click",function(e){var t=$(this).attr("newsid"),n="qnreading://article_detail?nm="+t+ne;B("slider_open_click"),B("open_click"),Ze&&window.newWxSchemeOpen?(e.preventDefault(),Z(n,B)):window.location.href=n}),$(".slider-list .close").on("click",function(e){e.stopPropagation(),B("slider_close_click"),_()})}function g(){var e=document.body.scrollTop||document.documentElement.scrollTop,t=!1;if((1==Ge||2==Ge)&&$(".recomBox").length&&$(".slider-list").length&&(1==be||1==xe)){var n=$(".recomBox").offset().top;e+window.innerHeight<n&&(t=!0)}return t}function v(){var e;$(window).width();g()&&!De&&(De=!0,B("slider_show"),$(".slider-box").show(),2==Ge&&($("body").css({"padding-top":"54px!important"}),$("#borderLogo").hide()),photoSlide({wrap:$(".slider-box")[0],loop:!0,autoPlay:!0,autoTime:4e3,pagination:!0}),$.each($(".slider-list li"),function(t,n){e=$(n).find(".news-title").height(),e>=40?$(n).find(".news-title").addClass("line2"):$(n).find(".news-title").addClass("line1")}))}function _(){window.clearInterval(se),$(".slider-box").remove(),2==Ge&&($("body").css({"padding-top":"0px!important"}),$("#borderLogo").show())}function y(e){var t=new Date(1e3*e),n=new Date,o=parseInt((n.getTime()-t.getTime())/1e3);return o<0?re="刚刚":(o>=86400?re=parseInt(o/86400)+"天":o>=3600?re=parseInt(o/3600)+"小时":o>=60?re=parseInt(o/60)+"分钟":re=o+"秒",re+="前"),re}function b(e){switch(!0){case 0===parseInt(e):re="";break;case e<1e4:re=e;break;case e<1e8:re=e%1e3<=999?parseInt(e/1e4)+"万":parseFloat(e/1e4).toFixed(1)+"万";break;default:re=e%1e7<=9999999?parseInt(e/1e8)+"亿":parseFloat(e/1e8).toFixed(1)+"亿"}return re}function x(){var e=$("#content").children(),t=window.innerHeight,n=3*t,o=$(".container").height(),i=0;Re&&(n=4*t),$("#content").children().each(function(e,t){if(!$(t).height()&&$(t).hasClass("imgNode")){var n,a=$(t).find("img").attr("data-width"),s=$(t).find("img").attr("data-height");a&&s&&(n=Math.round($("#content").width()/a*s),o+=n,$(t).attr("data-curheight",n))}else $(t).hasClass("text")&&$(t).height()>30&&($(t).addClass("textNode"),i++)});for(var a=e.length-1;a>=0&&!(i<=2||o<n);a--)$(e[a]).height()?o=o-$(e[a]).height()-17:$(e[a]).attr("data-curheight")&&(o=o-parseInt($(e[a]).attr("data-curheight"))-17),$(e[a]).addClass("contentHide").hide(),$(e[a]).hasClass("textNode")&&i--,$(e[a]).hasClass("gifP")&&($("img",e[a])[0].onload=function(){});$("#content .contentHide").length&&($("#content").append('<div id="showMore" class="showMoreAll"><span class="showMore">点击展开全文</span></div>'),$("#showMore").on("click",function(){return $(".contentHide").show(),$(".mark-tooltip").show(),$(".main .textNode").last().css({"margin-bottom":"0"}),$("#showMore").hide(),!1}),B("moreBtnShow")),$(".contentHide .note[tid]").each(function(e,t){var n=$(t).attr("tid");$('.mark-tooltip .note-table[tid="'+n+'"]').parent().hide()})}function k(){if(!$.os.ios&&!$.os.android&&window.innerWidth>850){$(window.document.body).append('                <div id="codeBox">                    <a href="http://kuaibao.qq.com/download.html" class="codePic">                        <img src="http://mat1.gtimg.com/www/images/newsapp/cyshare/QR_kuaibao2.png">                    </a>                    <p>微信扫一扫<br/>下载天天快报客户端</p>                </div>');var e=($(window).width()-$("#content,#content_ifr").width())/2+$("#content,#content_ifr").width()+25;$("#codeBox").css("left",e+"px")}}function C(){if($("#codeBox")[0]){var e=($(window).width()-$("#content,#content_ifr").width())/2+$("#content,#content_ifr").width()+25;e+$("#codeBox").width()<window.innerWidth?($("#codeBox").css("left",e+"px"),$("#codeBox").show()):$("#codeBox").hide()}}function I(){Ze.getInstall({packageName:ot.packageName,packageUrl:ot.packageUrl,call:function(e,t){var n=e?Ze.installState.INSTALLED:Ze.installState.UNINSTALL;e&&(B("appInstalled"),be=1,($.os.ios||t&&parseFloat(t)>=1.5)&&(Ue.openCommentUrl+="&iscomment=1"),We("install_com.tencent.reading","1"),t&&(Ue.versionCode=t,We("versionCode_com.tencent.reading",t)),R(ot.packageName)),0==be?"android"==window.mobileType?Ze.getInstall({packageName:Fe.packageName,packageUrl:Fe.packageUrl,call:function(e,t){var n=e?Ze.installState.INSTALLED:Ze.installState.UNINSTALL;if(e?(B("appInstalled"),Ue.openUrl=Fe.openUrl,Ue.openCommentUrl=Fe.openCommentUrl,xe=1,R(Fe.packageName)):B("appUnInstall"),0==xe){for(var o=["mqq_qiwen","mqq_hotnews","wx_relatednews","share_recomnews","mqq_relatednews"],i=!1,a=0;a<o.length;a++)if(o[a]==Ce){i=!0;break}if("android"==window.mobileType&&!window.isActOver&&1!=Te&&parseInt(100*Math.random())<window.bonusHitGray&&!$(".bonus").length){var s='<div class="bonus"><img src="'+window.bonusImgUrl+'"/><span class="close"></span></div>';$("body").append(s),ke=1,B("bonusLoad")}}else window.bonusNewsId&&"android"==window.mobileType&&(1==window.showRedPadForRiHuo||1==Se)&&1!=qe;m({state:n}),f($(".downloadBtn-hot")[0],n),f($(".downloadBtn-bottom")[0],n)}}):(m({state:n}),f($(".downloadBtn-hot")[0],n),f($(".downloadBtn-bottom")[0],n),B("appUnInstall")):(m({state:n}),f($(".downloadBtn-hot")[0],n),f($(".downloadBtn-bottom")[0],n))}})}function S(){var e="",t=$(".text");return $.each(t,function(t,n){return n=$(n),!!n.hasClass("image_desc")||(n.text().length>=10&&(e=e+n.text()+" "),!(e.length>50)&&void 0)}),e?e:($.each(t,function(t,n){return n=$(n),!!n.hasClass("image_desc")||(e=n.text()?e+n.text()+" ":e,!(e.length>50)&&void 0)}),e)}function T(){$.ajax({url:"//view.inews.qq.com/getRanVideo?from=kuaibao",data:{total:10,ran:1},dataType:"jsonp",success:function(e){e&&q(e)}})}function q(e){if(0===e.ret&&e.info.length){var t=e.info[0],n="qnreading://article_detail?nm="+t.id+ne,o="";o='                <a href="'+Ue.downloadUrl+'" class="hot-video bigpic" data-openurl="'+n+'">                    <div class="img-box"><img src="'+t.bigpic+'"><span class="ico"></span></div>                    <div class="desc"><span>'+t.title+'</span></div>                </a>                <a class="downloadBtn downloadBtn-video solid" href="'+Ue.downloadUrl+'" data-openurl="'+n+'">                    <div class="downloader_progress"></div>                    <div class="downloader_text"><span>'+Ue.wording.downloadHotVideo+"</span></div>                </a>            ",$(".downloadBox").after('<div class="hotvideo-box">'+o+"</div>"),$(".hotvideo-box").hide(),$(".downloadBox").hide(),f($(".hot-video")[0]),f($(".downloadBtn-video")[0]),B("hotVideoShow"),$(".hot-video").on("click",function(e){$(this).hasClass("open")?(B("hotVideoCover_open"),B("open_click"),window.newWxSchemeOpen&&Ze&&(e.preventDefault(),Z(n,B))):(B("hotVideoCover_download"),B("download_click"))}),$(".downloadBtn-video").on("click",function(e){$(this).hasClass("open")?(B("hotVideoBtn_open"),B("open_click"),window.newWxSchemeOpen&&Ze&&(e.preventDefault(),Z(n,B))):(B("hotVideoBtn_download"),B("download_click"))})}}function B(e){var t=document.location.href,n=[],o=A(t,"openid")||$.cookie("uin")||Qe||"",i=he?1:0,a=window.isHotChannel?1:2,s="",r=A(t,"refer")||"";e="cy_"+e,$.app.weixin?s=1:$.app.mqq&&(s=2),fe&&(a=me?11:10),n.push("sIp="),n.push("iQQ="+o),n.push("sBiz="+encodeURIComponent("appnews.front.newsOpen")),n.push("sOp="+e),n.push("sUrl="),n.push("sRef="+r),n.push("appType="+s),n.push("bonusType="+ke),n.push("sOsType="+mobileType),n.push("bucket="+Ge),1==be||1==xe?n.push("appInstallStatus=1"):n.push("appInstallStatus=0"),"cy_shareRecommNewsListView"==e&&window.shareRecommNewsList&&window.shareRecommNewsList.length?n.push("sNewsId="+window.shareRecommNewsList.join("|")):n.push("sNewsId="+newsId),window.versionFlag&&versionFlag>=605.007?n.push("iAppFlag=3"):window.versionFlag&&versionFlag>=605.006?n.push("iAppFlag=2"):n.push("iAppFlag=1"),n.push("hitGray="+i),n.push("icfHitGray="+a),n.push("iProt="+(M(document.location.href)?"1":"0")),n.push("_dc="+Math.random());var d=new Image;d.onload=function(){},d.src="http://btrace.qq.com/kvcollect?BossId=3384&Pwd=1187914057&"+n.join("&")}function N(e){var t=(document.location.href,[]),n=$.cookie("uin")||A(location.href,"uin"),o=A(location.href,"reason"),i=window.newsId+":"+(o?o:""),a=o?1:0;if(n){n&&0==n.indexOf("o")&&(n=parseInt(n.substring(1,n.length),10)),t.push("sUin="+n),t.push("sOp="+e),t.push("sDes="+i),t.push("sIP="),t.push("sTraceId="),t.push("iGrayType="+a),t.push("_dc="+Math.random());var s=new Image;s.onload=function(){},s.src="http://btrace.qq.com/kvcollect?BossId=4246&Pwd=186868564&"+t.join("&"),o&&$.ajax({method:"get",url:"//view.inews.qq.com/mqqRecomNewsReport",data:{op:"click",id:window.newsId,reason:o,uin:n,trace_id:""},dataType:"jsonp",success:function(e){}})}}function E(e){if(e){var t=A(location.href,"openid")||$.cookie("uin")||Qe||"",n=window.newsId,o=[];e=$(e),1!=e.attr("expo")&&"hot"!=e.attr("artflag")&&o.push(e.attr("newsid")),t&&n&&o.length>0&&$.ajax({url:"//view.inews.qq.com/recordRelateExpo",dataType:"jsonp",data:{uid:t,id:n,relateids:o.join(",")}})}}function L(){var e=A(document.location.href,"openid");e&&$.ajax({url:"//kuaibao.qq.com/mr",data:{openid:e}})}function D(e,t){e=String(e).split("."),t=String(t).split(".");try{for(var n=0,o=Math.max(e.length,t.length);n<o;n++){var i=isFinite(e[n])&&Number(e[n])||0,a=isFinite(t[n])&&Number(t[n])||0;if(i<a)return-1;if(i>a)return 1}}catch(s){return-1}return 0}function A(e,t){e=e||location.href;var n=new RegExp("(^|&|\\?|#)"+t+"=([^&#]*)(&|$|#)",""),o=e.match(n);return o?o[2]:null}function O(e,t,n){return e&&t&&n?e=~e.indexOf("?")?e+"&"+t+"="+n:e+"?"+t+"="+n:e}function U(e){var t=0,n=131,o=0,i=e.length;for(o;o<i;o++)t=t*n+e[o].charCodeAt(),t=2147483647&t;return t+""}function j(e){var t=U(e).substr(-1,1);return t>=1&&t<=we}function F(e,t){var n="";return e?n="http"==t||"https"==t?"https"==t?e.replace(/^http:\/\//,"https://"):e.replace(/^https:\/\//,"http://"):M(document.location.href)?e.replace(/^http:\/\//,"https://"):e.replace(/^https:\/\//,"http://"):n}function M(e){return!!e&&!!e.match(/^https:\/\//g)}function R(e){if($.os.android){var t="",n=1e3,o="";"com.tencent.news"==e?(t="qqnews://article_9988",o="news_open",n=2e3):"com.tencent.reading"==e&&(t="qnreading://article_9988",o="reading_open");var i=window.openProb&&parseInt(window.openProb)>0?parseInt(window.openProb):0;(Math.floor(100*Math.random())<i||"1"==A(document.location.href,"isDebug"))&&setTimeout(function(){P(t),B(o)},n)}}function P(e){var t=document.createElement("iframe");t.src=e,t.style.display="none",document.documentElement.appendChild(t)}function W(){var e=$(".qq_music");$.each(e,function(t,n){var o,i,a,s,r=$(n),d=r.attr("musicinfo")?r.attr("musicinfo").split("|"):[],c=r.find("audio");d.length>=18&&(songId=d[0],o=d[1],a=d[3],i=d[5],s=d[7],r.find(".qqmusic_song").text(o),r.find(".qqmusic_album").text(i),r.find(".qqmusic_singer").text(a),r.find(".audio_time").text("00:00/"+J(s)),r.data("time",s),r.data("songid",songId),c.on("timeupdate",function(){H(this)}),c.on("ended",function(){Q(this)}),r.on("click",".qqmusic_info",function(){var e=$(this).parent(),t=(e.find(".audio_btn"),e.data("songid"));window.location.href="http://y.qq.com/i/song.html?songid="+t+"&source=qqnews#wechat_redirect"}),r.on("click",".play_area",function(){var t=$(this).find(".audio_btn"),n=$(this).parent(),o=n.find(".qqmusic_album"),i=n.find(".qqmusic_singer"),a=n.find(".audio_time"),s=n.find(".audio_progress"),r=n.find("audio");t.hasClass("play")?(t.removeClass("play"),r.get(0).pause()):($.each(e,function(e,t){$(t).find(".audio_btn").hasClass("play")&&($(t).find(".audio_btn").removeClass("play"),$(t).find("audio").get(0).pause())}),t.addClass("play"),o.hide(),i.hide(),a.show(),s.show(),r.attr("src")||r.attr("src",r.attr("data-src")),r.get(0).play())}))})}function H(e){var t=$(e).parent(),n=t.find(".audio_progress").width(),o=t.find(".audio_progress .progressing"),i=t.data("time"),a=t.find(".audio_time"),s=e.currentTime/i;a.text(J(parseInt(e.currentTime))+"/"+J(i)),o.width(parseFloat(n)*s)}function Q(e){var t=$(e).parent(),n=t.find(".audio_btn"),o=t.find(".qqmusic_album"),i=t.find(".qqmusic_singer"),a=t.find(".audio_time"),s=t.find(".audio_progress");n.removeClass("play"),a.hide(),s.hide(),o.show(),i.show()}function J(e){var t="";switch(!0){case e<=0:t="00:00";break;case e<60:t+=e%60<10?"00:0"+e:"00:"+e;break;case e<3600:t+=e/60<10?"0"+parseInt(e/60)+":":parseInt(e/60)+":",t+=e%60<10?"0"+e%60:e%60}return t}function G(){var e=$(".voice-box");$.each(e,function(t,n){var o=$(n),i=o.find("audio");i.on("timeupdate",function(){X(this)}),i.on("ended",function(){z(this)}),o.on("click",".voice-btn",function(){var t=$(this).parent(),n=t.find("audio");$(this).hasClass("play")?($(this).removeClass("play"),n.get(0).pause(),o.find(".play-img").attr("src","http://mat1.gtimg.com/www/images/newsapp/cyshare/live_icon_sound0.png")):($.each(e,function(e,t){$(t).find(".voice-btn").hasClass("play")&&($(t).find(".voice-btn").removeClass("play"),$(t).find(".play-img").attr("src","http://mat1.gtimg.com/www/images/newsapp/cyshare/live_icon_sound0.png"),$(t).find("audio").get(0).pause())}),$(this).addClass("play"),n.attr("src")||n.attr("src",n.attr("data-src")),o.find(".play-img").attr("src","http://mat1.gtimg.com/www/images/newsapp/cyshare/live_icon_sound1.gif"),n.get(0).play())})})}function X(e){var t=$(e).parent(),n=t.find(".voice-progress").width(),o=t.find(".voice-progress .progressing"),i=t.attr("duration"),a=t.find(".duration"),s=e.currentTime/i;a.text(J(Math.ceil(e.currentTime))),o.width(parseFloat(n)*s)}function z(e){var t=$(e).parent(),n=t.find(".voice-progress").width(),o=(t.find(".duration"),t.find(".voice-btn")),i=t.find(".voice-progress .progressing");t.find(".play-img").attr("src","http://mat1.gtimg.com/www/images/newsapp/cyshare/live_icon_sound0.png"),i.width(n),o.removeClass("play")}function Z(e,t){var n;$.os.android&&Ue&&Ue.versionCode>=Ue.versionFlag||$.os.iphone&&Ue&&Ue.versionCode>=Ue.versionFlagIOS?($.os.iphone&&(e=e.replace(/(qqnews:\/\/)|(qnreading:\/\/)/i,"")),n={appID:Ue.wxappid,parameter:e,extInfo:e}):n={schemeUrl:e},Ze.openApp(n,t)}function V(){Y(),reqId=setInterval(function(){Y(reqId)},9e5)}function Y(e){var t="//r.cnews.qq.com/g/checkFollowUpdate",n=A(document.location.href,"openid"),o=$.cookie("uin"),i=!1,a={};n?a.openid=n:o&&(a.uin=o),$.ajax({url:t,dataType:"jsonp",data:a,success:function(t){t&&0==t.ret&&t.hasUpdate&&(e&&window.clearInterval(e),$(".follow-update-tips").show(),i||B("follow_update_show"),i=!0)}})}function K(){var e=A(document.location.href,"openid");e&&$.ajax({method:"get",url:"//view.inews.qq.com/appVer",data:{openid:e},dataType:"jsonp",success:function(e){if(0==e.ret){var t;e.info&&e.info.kb&&(t=ee(e.info.kb),Ue.versionCode=t,We("versionCode_com.tencent.reading",t))}}})}function ee(e){var t=e.split("."),n=0;return t&&t.length>=3&&(n=100*parseInt(t[0])+parseInt(t[1])+parseInt(t[2])/100),n}function te(e,t){var n=[];n.push('<div class="remind-wrap">'),"success"===e?n.push('<div class="remind-box success"> <span>'+t+"</span></div>"):n.push('<div class="remind-box"><span>'+t+"</span></div>"),n.push("</div>"),$("body").append(n.join("")),setTimeout(function(){$(".remind-wrap").remove()},2e3)}var ne=$.app.weixin?"&from=weixin&pagetype=weixinsharenews":$.app.mqq?"&from=mobileQQPush&pagetype=mqqsharenews":"";ne+=e();var oe,ie,ae,se,de,ce,le,pe=A(location.href,"openid")?A(location.href,"openid"):"",ue=localStorage.getItem("openid"),he=!1,fe=!1,me=!1,we=5,ge=0,ve=!1,_e=1,$e=!1,ye=!1,be=0,xe=0,ke=0,Ce=A(document.location.href,"refer")||"",Ie=A(document.location.href,"icfDebug")||0,Se=A(document.location.href,"bonusDebug")||0,Te=localStorage.getItem("newBonusClose"),qe=localStorage.getItem("activeBonusClose"),Be=localStorage.getItem("careNewsList"),Ne=window.bonusActUrl,Ee=Be?Be.split(";"):[],Le=(window.bonusIcon,3),De=!1,Ae=4,Oe="//r.cnews.qq.com/g/followRemind?",Ue={downloadUrl:window.downloadUrl||"http://kuaibao.qq.com/",openUrl:"qnreading://article_detail?nm="+newsId+ne,openCommentUrl:"qnreading://article_detail?nm="+newsId+ne,taskName:"天天快报",scheme:"qnreading://",packageName:"com.tencent.reading",wxappid:"wxe90c9765ad00e2cd",versionCode:0,versionFlag:2900,versionFlagIOS:209,downloadMd5:window.downloadMd5||"",appid:"1104637126",via:"ANDROIDQQ.QNREADING",wording:{download:"下载天天快报，你想看的这里都有",downloading:"正在下载天天快报客户端",pause:"继续下载天天快报客户端",install:"安装天天快报客户端",open:"打开天天快报，你想看的这里都有",downloadComment:"下载天天快报，看<b>{count}</b>条热评",openComment:"打开天天快报，看<b>{count}</b>条热评",downloadNoComment:"下载天天快报，我来说两句",openNoComment:"打开天天快报，我来说两句",downloadBanner:"立即下载",downloadingBanner:"正在下载",installBanner:"立即安装",openBanner:"立即打开",downloadHotVideo:"下载天天快报，看更多热点视频",openHotVideo:"打开天天快报，看更多热点视频",appDownload:"下载应用查看",appOpen:"打开应用查看",downloadHotChannel:'下载天天快报，戳<span class="channel-name">「白百何」</span>频道看猛料',openHotChannel:'戳<span class="channel-name">「白百何」</span>频道，快人一步看猛料'}},je={openSwitch:0,openUrl:"qnreadingpro://article_detail?nm="+newsId+ne,openCommentUrl:"qnreadingpro://article_detail?nm="+newsId+ne,scheme:"qnreadingpro://",packageName:"com.tencent.readingpro",wording:{download:"下载天天快报，你想看的这里都有",downloading:"正在下载天天快报客户端",pause:"继续下载天天快报客户端",install:"安装天天快报客户端",open:"打开天天快报，你想看的这里都有",downloadComment:"下载天天快报，看<b>{count}</b>条热评",openComment:"打开天天快报，看<b>{count}</b>条热评"}},Fe={openSwitch:1,openUrl:"qnreadingplus://article_detail?nm="+newsId+ne,openCommentUrl:"qnreadingplus://article_detail?nm="+newsId+ne,scheme:"qnreadingplus://",packageName:"com.tencent.readingplus"},Me=[],Re="recommlist"===A(location.href,"refer")?1:0,Pe="1"===A(location.href,"debug")?1:0;
Re&&$(window.document.body).attr("class","recommlist"),je.openSwitch&&(Ue.wording=je.wording),"mqq_qiwen"==A(location.href,"refer")&&N("click_menu"),(parseInt(100*Math.random())<10||1==A(document.location.href,"debug"))&&antiHijack.init({cgi:"s"}),pe&&(he=j(pe)),$(".downloadBtn").attr("href",Ue.downloadUrl),$(".downloadBtn .downloader_text span").html(Ue.wording.download),$(".downloadBtn-hot .downloader_text span").html(Ue.wording.downloadHotChannel),Ue.downloadUrl&&$(".downloadBtn").show();var We=function(e,t){if(window.nativeStorage)return window.nativeStorage.set(e,t);if(window.localStorage)try{window.localStorage[e]=t}catch(n){}},He=function(e){return window.nativeStorage?window.nativeStorage.get(e):window.localStorage?window.localStorage[e]:void 0},Qe=function(){var e=He("ukey");if(e)return e;var t=+new Date;return t="ukey_"+[t,Math.floor(t*Math.random()*Math.random()).toString().slice(-5)].join(""),We("ukey",t),t}(),Je=A(location.href,"openid")||$.cookie("uin")||Qe||"",Ge=Je&&parseInt(U(Je).substr(-1,1));void 0===window.shareRecGray&&(window.shareRecGray=!!(Ge&&$.isArray(window.shareRecGrayPro)&&$.inArray(Ge,window.shareRecGrayPro)>=0)),Ge<window.bigImgGrayPro&&(fe=!0),A(document.location.href,"grayFlag")&&(Ge=A(document.location.href,"grayFlag")),5==Ge&&($(".media-follow").addClass("show"),$(".media-follow").length&&(V(),B("media_follow_show")));var Xe=He("install_com.tencent.reading");if(1==Xe){var ze=parseFloat(He("versionCode_com.tencent.reading"));Ue.versionCode=ze?ze:0}$.app.weixin&&$.os.iphone&&K(),$(".downloadBtn").hide(),window.isHotChannel&&$(".downloadBtn-hot").show(),W(),G();var Ze=h();if(Ze){if(window.contentModel){var Ve,Ye=contentModel.desc;Ye=Ye.replace(/<strong>|<\/strong>/g,""),(!Ye||Ye.replace(/([A-Za-z])/g,"").length<20)&&(contentDes=S(),Ye=""!==contentDes?contentDes:Ye);var Ke=contentModel.link.replace("view.inews.qq.com/a/","kuaibao.qq.com/s/");Ke=A(document.location.href,"refer")?F(Ke,"http"):F(Ke,"https"),Ve={title:contentModel.title+" -天天快报",desc:Ye,link:Ke,img_url:contentModel.img_url,appid:"wxe90c9765ad00e2cd"},Ze.setShareInfo(Ve,B,function(){B("shareRecommLoad"),B("shareRecommNewsListView"),B(window.appInstallstate?"sRecommNewsAppInstalled":"sRecommNewsAppUnInstalled"),$(".shareDownloadBtn").show(),$(".shareRecommBoxWrap").removeClass("hide"),$(".shareRecommBoxWrap").attr("move","1")}),$.app.weixin&&Ze.openShare()}var et=[],tt="",nt=0;$(".imgNode img").each(function(e,t){$.app.weixin&&$(this).attr("gif_url")||(tt=$(this).attr("gif_url")||$(this).attr("preview-src")||$(this).attr("src"),et.push(tt),$(this).attr("data-index",nt++))}),$(".imgNode img").on("click",function(){if(!$.app.weixin||!$(this).parent().hasClass("gifP")){var e=parseInt($(this).attr("data-index"))||0;Ze.previewImage&&Ze.previewImage(et,e)}});var ot={taskName:Ue.taskName,downLoadUrl:Ue.downloadUrl,packageName:Ue.packageName,packageUrl:Ue.scheme,downloadMd5:Ue.downloadMd5,appid:Ue.appid,via:Ue.via,stateChange:function(e){m(e)}};if($.os.ios&&$.app.weixin){var it=$.os.version&&$.os.version.split("_"),at=$.app.version;it=it&&it[0],it&&parseInt(it)>=9&&D(at,"6.2.6")>=0&&(je.openSwitch=0)}je.openSwitch&&$.os.ios?Ze.getInstall({packageName:je.packageName,packageUrl:je.scheme,call:function(e){var t=e?Ze.installState.INSTALLED:Ze.installState.UNINSTALL;e?($(".downloadBtn").show(),Ue.openUrl=je.openUrl,Ue.openCommentUrl=je.openCommentUrl,m({state:t}),B("appInstalled_pro")):(I(),B("appUnInstall_pro"))}}):I(),Ze.getNetworkType(function(e){"wifi"===e&&(le="wifi",p($(".gifP [gif_url]")))}),window.weixinDownloadStateChange=function(e){window.transferDownloadState&&transferDownloadState(e)},window.mqqDownloadStateChange=function(){!window.addVideoRegister&&window.tvpdownloadClick&&tvpdownloadClick.queryDownloadState&&(window.addVideoRegister=1,mqq.app.downloadApp({appid:100730521},function(e){tvpdownloadClick.queryDownloadState(e)}))}}else B("appInstallUnknown");$(".downloadBtn").on("click",function(){$(this).hasClass("shareDownloadBtn")||$(this).hasClass("downloadBtn-hot")||B($(this).hasClass("open")?"openClickBottom":"downloadClickBottom"),B($(this).hasClass("open")?"open_click":"download_click")}),$(".downloadBtn-hot").on("click",function(e){$(this).hasClass("open")?(B("openClickHotChannel"),window.newWxSchemeOpen&&Ze&&(e.preventDefault(),Z($(this).attr("href"),B))):B("downloadClickHotChannel")}),1==window.isVideoNews&&B("videoPageLoad"),B("pageLoad"),window.isHitGray&&B("pageLoad_hitgray"),$("#content a").attr("href",function(e,t){return t.replace("//view.inews.qq.com/a/","//kuaibao.qq.com/s/")}),$(document).on("click",".smallImg",function(){var e=$(this).attr("data-src");e&&d(e)}),$(document).on("click",".preview-box",function(){$(this).remove()}),$(".care_btn_wrap").on("click",function(){var e,t=$(this).find(".care_img"),n=$(this).find(".care_num"),o={},i=Ee.indexOf(window.newsId);if(o.id=window.newsId,o.devid=pe,t.hasClass("selected")){t.removeClass("selected");var a=n.data("care_num")?n.data("care_num"):0;e=parseInt(a)-1>0?parseInt(a)-1:0,0===e?n.text(""):n.text(b(e)),i>-1&&(Ee.splice(i,1),localStorage.setItem("careNewsList",Ee.join(";"))),window.clearTimeout(ie),oe=setTimeout(function(){B("cancelCare_click"),o.type="cancellike",$.ajax({url:"//view.inews.qq.com/reportInterest",dataType:"jsonp",data:o})},2e3)}else t.addClass("selected"),e=parseInt(window.likeCount)?parseInt(window.likeCount):0,n.data("care_num",e+1),n.text(b(e+1)),i<=-1&&(Ee.push(window.newsId),localStorage.setItem("careNewsList",Ee.join(";"))),window.clearTimeout(oe),ie=setTimeout(function(){B("care_click"),o.type="like",$.ajax({url:"//view.inews.qq.com/reportInterest",dataType:"jsonp",data:o})},2e3),$(".care_modal").show(),setTimeout(function(){$(".care_modal").hide()},1e3)}),$(".report").on("click",function(e){e.preventDefault(),B("report_click"),window.location.href="http://kuaibao.qq.com/s/REPORTPAGE?openid="+pe+"&newsid="+window.newsId}),$(document.body).on("touchstart",".cardBoxWrap,.bonus,.media-follow",function(){$(".cardBoxWrap").addClass("active"),$(this).addClass("active")}),$(document.body).on("touchmove",".card-box,.bonus,.media-follow",function(){$(".cardBoxWrap").removeClass("active"),$(this).removeClass("active")}),$(document.body).on("touchend",".card-box,.bonus,.media-follow",function(){$(".cardBoxWrap").removeClass("active"),$(this).removeClass("active")}),$("body").on("click",".bonus,.bonus .close",function(){$(this).hasClass("bonus")?(B("bonusClick"),1!=be&&1!=xe||"android"!=window.mobileType||!window.bonusNewsId||1!=window.showRedPadForRiHuo&&1!=Se?window.location.href=Ne:0==be&&1==xe?window.location.href="qnreadingplus://article_detail?nm="+window.bonusNewsId+ne:window.location.href="qnreading://article_detail?nm="+window.bonusNewsId+ne):($(".bonus").remove(),1==be||1==xe?(B("activeBonusClose"),localStorage.setItem("activeBonusClose","1")):(B("newBonusClose"),localStorage.setItem("newBonusClose","1")))}),$(".downloadBtn-bottom").on("click",function(e){window.newWxSchemeOpen&&Ze&&$(this).hasClass("open")&&(e.preventDefault(),Z($(this).attr("href"),B))}),$(".media-follow").on("click",function(){var e={},t=$.cookie("uin");$(this).hasClass("has-follow")?(e.operate="unfollow",B("media_unfollow_click")):$(this).hasClass("not-follow")&&(B("media_follow_click"),e.operate="follow"),pe?e.openid=pe:t&&(e.uin=t),window.cardInfo&&window.cardInfo.chlid&&(pe||t)&&(e.mediaid=window.cardInfo.chlid,window.clearTimeout(de),de=setTimeout(function(){$.ajax({url:Oe,data:e,dataType:"jsonp",success:function(t){"follow"==e.operate?0==t.code?(B("media_follow_sucess"),$(".media-follow").removeClass("not-follow").addClass("has-follow"),te("success","关注成功")):(B("media_follow_failed"),te("failed","关注失败")):"unfollow"==e.operate&&($(".media-follow").removeClass("has-follow").addClass("not-follow"),0==t.code?(B("media_unfollow_sucess"),te("success","取消成功")):(B("media_unfollow_failed"),te("failed","取消失败")))}})},500))}),$(".follow-update-tips").on("click",function(){var e=A(document.location.href,"openid"),t="//kuaibao.qq.com/follow";e&&(t+="?openid="+e),$(".follow-update-tips").hide(),B("follow_update_click"),window.location.href=t}),c(),t(),commentId&&"-1"!=commentId&&(a(),0!=window.needCheckSen?i():1!=window.isSen&&(ge=1,$(".pick_comments > h1").show(),$(".pick_comments .itemlist").show())),L();var st=1;$(window).on("resize",function(){C(),st=-st,window.scrollTo(0,window.scrollY+st)}),!function(){function e(e){return Math.round(Math.random()*(1/e))}function t(){return!!document.location.href.match(/^https:\/\//g)}function n(){var t=e(.05);console.log("Rand hit:"+t),10===t&&(console.log("Report hit:",!0),i.c=new Image,i.c.onload=i.c.onerror=function(){delete i.c},i.c.src="http://qos.report.qq.com/collect?type=1&name="+o+"&"+i.t.map(function(e,t){return t+1+"="+e}).join("&")+"&_rt="+(new Date).getTime())}var o=t()?"kb_share_https":"kb_share_http",i={},a=window.performance;i.t=new Array(5),window.QTiming={ready:function(){setTimeout(function(){if(a&&a.timing&&document.location.href.match(/kuaibao.qq.com/g)){var e=a.timing;i.t[0]=e.domainLookupEnd-e.domainLookupStart,i.t[1]=e.connectEnd-e.connectStart,i.t[2]=e.responseStart-e.requestStart,i.t[3]=e.responseEnd-e.responseStart,i.t[4]=e.loadEventEnd-e.fetchStart,n()}},0)}}}(),$.app.weixin&&Ze?Ze.ready(function(){QTiming.ready()}):window.onload=function(){QTiming.ready()}}),$(function(){function e(){$.ajax({url:h.rewardInfoUrl,data:{newsid:window.newsId,otype:"jsonp"},dataType:"jsonp",success:function(e){0==e.ret&&t(e.data)}})}function t(e){if($("#reward_box")[0]){$("#reward_num").text("已有"+e.num+"人赞赏");var t=[];$.each(e.header,function(e,n){t.push('<li class="reward_item"><img src="'+n+'" alt="" /></li>')}),$("#reward_list").html(t.join(""))}else{var t=[];t.push('<div id="reward_box">'),t.push('<div id="reward_btn">赞赏</div>'),e.num>0&&t.push('<div id="reward_num">已有'+e.num+"人赞赏</div>"),e.header&&e.header.length>0&&(t.push('<ul id="reward_list">'),$.each(e.header,function(e,n){t.push('<li class="reward_item"><img src="'+n+'" alt="" /></li>')}),t.push("</ul>")),t.push("</div>"),$("#content").after(t.join("")),$("#reward_btn").on("click",n),FastClick.attach($("#reward_btn")[0])}}function n(){if($("#price_box_wrap")[0])$("#price_box_wrap").show();else{var e=[];e.push('<div id="price_box_wrap">'),e.push('<div id="price_box">'),e.push('<div id="price_box_close"></div>'),e.push('<div id="pb_header_wrap">');var t=!(!window.cardInfo||!cardInfo.icon)&&cardInfo.icon;e.push('<div id="pb_header"><div id="pb_img">'),t&&e.push('<img src="'+t+'" alt="" />'),e.push("</div></div>"),e.push('<div id="pb_media"><span>赞赏：</span>'+(window.cardInfo&&cardInfo.chlname?cardInfo.chlname:"")+"</div>"),e.push("</div>"),e.push('<div id="pb_pick" class="show">'),e.push('<ul id="pb_pick_list">'),e.push('<li class="pb_pick_item active" price="5">5元</li>'),e.push('<li class="pb_pick_item" price="10">10元</li>'),e.push('<li class="pb_pick_item" price="15">15元</li>'),e.push("</ul>"),e.push('<div id="pb_other_price">其他金额</div>'),e.push("</div>"),e.push('<div id="pb_input_box">'),e.push('<div id="pn_input_wrap"><label>金额</label><div id="pb_input_out"><input type="number" pattern="[0-9]*" id="pb_input" placeHolder="1-888"/><span id="pb_input_clear"></span></div><label>元</label></div>'),e.push("</div>"),e.push('<a id="price_check_btn">赞 赏</a>'),e.push("</div>"),e.push("</div>"),$(document.body).append(e.join("")),$("#price_box_wrap").on("click",o),$("#pb_input").on("input",i),FastClick.attach($("#price_box_wrap")[0])}}function o(e){var t=$(e.target);if("price_box_wrap"!=t.attr("id")&&"price_box_close"!=t.attr("id")||$("#price_box_wrap").hide(),t.hasClass("pb_pick_item")&&($("#pb_pick_list").find(".pb_pick_item.active").removeClass("active"),t.addClass("active")),"pb_other_price"==t.attr("id")&&($("#pb_pick").removeClass("show"),$("#pb_input_box").addClass("show"),$("#price_check_btn").addClass("disable")),"pb_input_clear"==t.attr("id")&&($("#pb_input").val(""),t.hide()),"price_check_btn"==t.attr("id")&&!t.hasClass("disable")){var n=0;if(n=$("#pb_pick").hasClass("show")?parseInt($("#pb_pick").find(".pb_pick_item.active").attr("price")):parseInt($("#pb_input").val()),p("access_token"))a(n);else{d();var o=window.newsId+"_"+n+"_"+$(window).scrollTop();u("reward_under_submit",o);var i="http://view.inews.qq.com/a/"+window.newsId+"?c_h=kuaibao";document.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx1484a0f2213fe99d&redirect_uri="+encodeURIComponent(i)+"&response_type=code&scope=snsapi_base&state=123#wechat_redirect"}}}function i(e){var t=$(e.target),n=parseInt(t.val());!n||n<1||n>888?($("#price_check_btn").addClass("disable"),n>=0?$("#pb_input").addClass("error"):$("#pb_input").removeClass("error")):($("#price_check_btn").removeClass("disable"),$("#pb_input").removeClass("error")),n>=0?$("#pb_input_clear").show():$("#pb_input_clear").hide()}function a(e){e<0||(d(),$.ajax({url:h.formatReward,data:{newsid:window.newsId,goodprice:e,logintype:1,refer:"kb_share",openid:p("openid"),access_token:p("access_token"),_tp:1==l("_tp")?1:0},dataType:"jsonp",success:function(e){e.payurl?($("#remind_box").hide(),$("#price_box_wrap").hide(),window.Midas?s(e.payurl):$.ajax({url:"//midas.gtimg.cn/h5pay/js/api/midas.js",dataType:"script",success:function(){s(e.payurl)}})):r()}}))}function s(t){var n=l("params",t),o=l("pf",t),i=l("dc",t),a=1==l("sandbox",t),s=(l("ru",t),l("su",t),l("wxAppid",t)),r=l("wxAppid2",t),d={params:decodeURIComponent(n),pf:decodeURIComponent(o),dc:i,_version:"v3",sandbox:a,sessionid:l("sessionid",t),sessiontype:l("sessiontype",t),openid:l("openid",t),openkey:l("openkey",t),onSuccess:function(){f=!0,setTimeout(e,1e3)},onClose:function(){f&&(c(),f=!1)}};s&&(d.wxAppid=s),r&&(d.wxAppid2=r),Midas.buyGoods(d)}function r(){$("#remind_box").attr("class","error").show(),setTimeout(function(){$("#remind_box").attr("class","formating").hide()},2e3)}function d(){$("#remind_box")[0]?$("#remind_box").attr("class","formating").show():($(document.body).append('<div id="remind_box" class="formating"></div>'),$("#remind_box").attr("class","formating").show())}function c(){$("#remind_box").attr("class","complete").show(),setTimeout(function(){$("#remind_box").attr("class","formating").hide()},2e3)}function l(e,t){t=t||location.href;var n=new RegExp("(^|&|\\?|#)"+e+"=([^&#]*)(&|$|#)",""),o=t.match(n);return o?o[2]:null}function p(e,t,n){var o,i,a,s;return arguments.length>1&&"[object Object]"!==String(t)?(n=$.extend({},n),null!==t&&void 0!==t||(n.expires=-1),"number"==typeof n.expires&&(o=24*n.expires*60*60*1e3,i=n.expires=new Date,i.setTime(i.getTime()+o)),t=String(t),document.cookie=[encodeURIComponent(e),"=",n.raw?t:encodeURIComponent(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")):(n=t||{},s=n.raw?function(e){return e}:decodeURIComponent,(a=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?s(a[1]):null)}function u(e,t){return void 0==t?localStorage[e]||"":(null!=t&&""!=t||localStorage.removeItem(e),void(localStorage[e]=t))}var h={rewardInfoUrl:"//pay.cnews.qq.com/getRewardInfo",formatReward:"//u.inews.qq.com/buyGoods"},f=!1;if(1==window.rewardSwitch&&1==window.isOrig&&$.app.weixin){document.addEventListener("touchstart",function(){},!1);var m=u("reward_under_submit");m&&(u("reward_under_submit",""),m=m.split("_"),m[0]==window.newsId&&parseInt(m[1])>0&&(a(parseInt(m[1])),parseInt(m[2])>0&&scrollTo(0,m[2]))),$(window).on("load",function(){setTimeout(function(){e(!1)},0)})}}),function(e,t){function n(){c.getInstall({packageName:u.packageName,packageUrl:u.packageUrl,call:function(e,n){var a=e?c.installState.INSTALLED:c.installState.UNINSTALL;window.appInstallstate=e,i({state:a}),o(t(".shareDownloadBtn")[0],a)}})}function o(n,o){n&&c&&t.os.android&&(e.downloader=e.downloader||new c.downloader(u),e.downloader.initBtn(n),o&&e.downloader.setDownloadState(o)),i()}function i(e){if(c&&(e=e||installStatus||{},e.state)){var n=c.installState;switch(installStatus=e,e.state){case n.INSTALLED:t(".shareDownloadBtn").removeClass("downloading"),t(".shareDownloadBtn").removeClass("install"),t(".shareDownloadBtn").addClass("open"),t(".shareDownloadBtn .downloader_text").html(p.wording.open),t(".shareDownloadBtn").attr("href",p.openUrl);break;case n.UNKNOWN:break;case n.UNINSTALL:t(".shareDownloadBtn").removeClass("downloading"),t(".shareDownloadBtn").removeClass("open"),t(".shareDownloadBtn .downloader_text").html(p.wording.download);break;case n.FAILED:break;case n.DOWNLOADING:t(".shareDownloadBtn .downloader_text").html(p.wording.downloading),"undefined"!=typeof e.pro?e.pro&&t(".shareDownloadBtn .downloader_progress").width(e.pro+"%"):t(".shareDownloadBtn").addClass("downloading");break;case n.PAUSED:t(".shareDownloadBtn .downloader_text").html(p.wording.pause),e.pro&&t(".shareDownloadBtn .downloader_progress").width(e.pro+"%");break;case n.COMPLETED:t(".shareDownloadBtn").removeClass("downloading"),t(".shareDownloadBtn").removeClass("download"),t(".shareDownloadBtn").addClass("install"),t(".shareDownloadBtn .downloader_text").html(p.wording.install)}}}function a(e){var n=document.location.href,o=[],i=s(n,"openid")||t.cookie("uin")||w||"",a="",d=s(n,"refer")||"";e="cy_"+e,t.app.weixin?a=1:t.app.mqq&&(a=2),o.push("sIp="),o.push("iQQ="+i),o.push("sBiz="+encodeURIComponent("appnews.front.newsOpen")),o.push("sOp="+e),o.push("sUrl="),o.push("sRef="+d),o.push("appType="+a),o.push("sOsType="+window.mobileType),o.push("sNewsId="+window.newsId),o.push("hitGray=0"),o.push(1),o.push("iProt="+(r(document.location.href)?"1":"0")),o.push("_dc="+Math.random());var c=new Image;c.onload=function(){},c.src="http://btrace.qq.com/kvcollect?BossId=3384&Pwd=1187914057&"+o.join("&")}function s(e,t){e=e||location.href;var n=new RegExp("(^|&|\\?|#)"+t+"=([^&#]*)(&|$|#)",""),o=e.match(n);return o?o[2]:null}function r(e){return!!e&&!!e.match(/^https:\/\//g)}var d,c,l=[],p={downloadUrl:window.downloadUrl||"http://kuaibao.qq.com/",taskName:"天天快报",scheme:"qnreading://",packageName:"com.tencent.reading",downloadMd5:window.downloadMd5||"",appid:"1104637126",via:"ANDROIDQQ.QNREADING",wording:{download:"下载天天快报看更多",downloading:"正在下载天天快报",pause:"继续下载天天快报",install:"安装天天快报看更多",open:"打开天天快报看更多"}},u={taskName:p.taskName,downLoadUrl:p.downloadUrl,packageName:p.packageName,packageUrl:p.scheme,downloadMd5:p.downloadMd5,appid:p.appid,via:p.via,stateChange:function(e){i(e)}};window.shareRecommNewsList=[],window.appInstallstate=0,t("body").on("touchstart",".shareRecommBox  ul>li",function(){t(this).addClass("active")}),t("body").on("touchmove",".shareRecommBox  ul>li",function(e){var n=t(".shareRecommBoxWrap").attr("move");1==n&&e.preventDefault(),t(this).removeClass("active")}),t("body").on("touchend",".shareRecommBox  ul>li",function(){t(this).removeClass("active")}),t("body").on("touchmove",function(e){var n=t(".shareRecommBoxWrap").attr("move");1==n&&e.preventDefault()});var h={init:function(){if(c&&t.app.weixin){var e="//view.inews.qq.com/getRelateRecomm",o={};o.id=newsId,o.alg_version=1,o.source="kb_share_action",t.ajax({url:e,data:o,dataType:"jsonp",success:function(e){e&&0==e.ret&&(d=e.info,h.render(),t(".shareDownloadBtn").attr("href",p.downloadUrl),t(".shareDownloadBtn").show(),n(),t(".cancel-btn").on("click",function(){t(".shareRecommBoxWrap").addClass("hide"),t(".shareRecommBoxWrap").attr("move","0")}),t(".shareDownloadBtn").on("click",function(e){t(this).hasClass("open")?(e.preventDefault(),a("shareRecommOpenApp"),window.location.href="qnreading://tab_reading"):a("shareRecommDownloadApp")}),t(".shareRecommBox li").on("click",function(){var e=t(this).attr("url"),n=t(this).attr("index"),o=t(this).attr("tag");a("shareRecommNewsClick|"+n+"|"+o),a("shareRecommNewsClick"),window.location.href=e}))}})}},render:function(){if(d&&d.length>=3){l.push('<div class="shareRecommBoxWrap hide" move="0">'),l.push('<div class="shareRecommBox">'),l.push('<div class="shareBanner"><span>分享成功</span></div>'),l.push('<div class="module-title">推荐阅读</div>'),l.push("<ul>");for(var e=0;e<d.length&&e<3;e++){var n=d[e],o="//kuaibao.qq.com/s/"+n.id;index=e+1,tag=n.relateType.toLowerCase(),l.push('<li url="'+o+'" index="'+index+'" newsid="'+n.id+'" tag="'+tag+'"><span>'+n.title+"</span></li>"),window.shareRecommNewsList.push(n.id+"_"+index+"_"+tag)}l.push("</ul>"),l.push('<a class="downloadBtn shareDownloadBtn solid" href=""><div class="downloader_progress"></div><div class="downloader_text">下载天天快报看更多</div></a>'),l.push('<div class="cancel-btn"></div>'),l.push("</div>"),l.push("</div>"),t("body").append(l.join(""))}}},f=function(e,t){if(window.nativeStorage)return window.nativeStorage.set(e,t);if(window.localStorage)try{window.localStorage[e]=t}catch(n){}},m=function(e){return window.nativeStorage?window.nativeStorage.get(e):window.localStorage?window.localStorage[e]:void 0},w=function(){var e=m("ukey");if(e)return e;var t=+new Date;return t="ukey_"+[t,Math.floor(t*Math.random()*Math.random()).toString().slice(-5)].join(""),f("ukey",t),t}();t(window).on("load",function(){setTimeout(function(){h.init()},0)}),e.shareRecomm=h}(window,Zepto),photoSlider.prototype.init=function(){this.ratio=this.wrap.offsetHeight/this.wrap.offsetWidth,this.wrapWidth=this.wrap.offsetWidth,this.index=0;for(var e=0;e<this.listLength;e++)this.lists[e].style.left=e*this.wrapWidth+"px";this.ops.pagination&&this.createBullet(),this.ops.loop&&(this.copyLists(),this.index=2,this.listLength=this.wrapInner.getElementsByTagName("li").length),this.ops.autoPlay&&this.autoPlay();var t=this,n=null;window.onresize=function(){n&&clearTimeout(n),n=setTimeout(function(){t.resizeInit()},300)}},photoSlider.prototype.resizeInit=function(){this.wrapWidth=this.wrap.offsetWidth;for(var e=0;e<this.listLength;e++){var t=e-2;this.lists[e].style.left=this.wrapWidth*t+"px"}this.move("0")},photoSlider.prototype.copyLists=function(){var e=document.createElement("li"),t=document.createElement("li"),n=document.createElement("li"),o=document.createElement("li");e.style.left="-"+this.wrapWidth+"px",e.innerHTML=this.lists[this.listLength-1].innerHTML,t.style.left="-"+2*this.wrapWidth+"px",t.innerHTML=this.lists[this.listLength-2].innerHTML,n.style.left=this.wrapWidth*this.listLength+"px",n.innerHTML=this.lists[0].innerHTML,o.style.left=this.wrapWidth*(this.listLength+1)+"px",o.innerHTML=this.lists[1].innerHTML,this.wrapInner.insertBefore(e,this.wrapInner.firstChild),this.wrapInner.insertBefore(t,this.wrapInner.firstChild),this.wrapInner.appendChild(n),this.wrapInner.appendChild(o)},photoSlider.prototype.createBullet=function(){pagination=document.createElement("div"),pagination.className="pagination";for(var e=0;e<this.listLength;e++)span=document.createElement("span"),this.index==e&&(span.className="active"),pagination.appendChild(span);this.wrap.appendChild(pagination),this.bulletLists=pagination.getElementsByTagName("span"),this.bllength=this.bulletLists.length},photoSlider.prototype.autoPlay=function(){var e=this;clearInterval(e.timer),e.timer=setInterval(function(){e.move("+1")},e.ops.autoTime)},photoSlider.prototype.stopPlay=function(){clearInterval(this.timer)},photoSlider.prototype.Transform3d=function(e,t,n){if(!e)throw new Error("未指定动画元素！");e.style.transform="translate3d("+t+"px,0,0)",e.style.webkitTransform="translate3d("+t+"px,0,0)",n?(e.style.transition="all "+this.ops.speed+"ms ease-out 0s",e.style.webkitTransition="all "+this.ops.speed+"ms ease-out 0s"):(e.style.transition="none",e.style.webkitTransition="none")},photoSlider.prototype.loopSetting=function(e){var t=this;switch(e){case 1:setTimeout(function(){mindex=t.listLength-3,t.index=mindex,t.Transform3d(t.wrapInner,-t.wrapWidth*(t.listLength-5),!1)},t.ops.speed);break;case t.listLength-2:setTimeout(function(){mindex=2,t.index=mindex,t.Transform3d(t.wrapInner,0,!1)},t.ops.speed)}},photoSlider.prototype.move=function(e){var t,n=this;"number"==typeof e?t=this.index:"string"==typeof e&&(t=this.index+1*e),t>this.listLength-1?t=this.listLength-1:t<0&&(t=0),this.index=t;var o=-1*(this.index-2);if(this.Transform3d(this.wrapInner,o*this.wrapWidth,!0),this.ops.pagination){var i=0;i=1==t?this.bllength-1:t==this.listLength-2?0:t-2,setTimeout(function(){for(var e=0;e<n.bllength;e++)e==i?n.bulletLists[e].setAttribute("class","active"):n.bulletLists[e].setAttribute("class","")},100)}this.ops.loop&&this.loopSetting(this.index)},photoSlider.prototype.bindEvent=function(){var e=this,t=this.wrapWidth/3,n=function(t){e.startX=t.touches[0].pageX,e.startY=t.touches[0].pageY,e.offsetX=0,e.startTime=1*new Date,e.stopPlay()},o=function(t){if(e.offsetX=t.touches[0].pageX-e.startX,e.offsetY=t.touches[0].pageY-e.startY,Math.abs(e.offsetX)>Math.abs(e.offsetY)){t.preventDefault();var n=-1*(e.index-2);e.Transform3d(e.wrapInner,n*e.wrapWidth+e.offsetX,!1)}},i=function(n){var o=1*new Date;o-e.startTime>700?e.offsetX>=t?e.move("-1"):e.offsetX<-t?e.move("+1"):e.move("0"):e.offsetX>=60||e.offsetX>0&&e.offsetX>.25*(o-e.startTime)?e.move("-1"):e.offsetX<-60||e.offsetX<0&&e.offsetX<.25*(o-e.startTime)?e.move("+1"):e.move("0"),e.ops.autoPlay&&e.autoPlay()};e.wrap.addEventListener("touchstart",n,!1),e.wrap.addEventListener("touchmove",o,!1),e.wrap.addEventListener("touchend",i,!1)},!function(e,t){function n(e){return function(t){return{}.toString.call(t)=="[object "+e+"]"}}function o(){return S++}function i(e){return e.match(B)[0]}function a(e){for(e=e.replace(N,"/"),e=e.replace(L,"$1/");e.match(E);)e=e.replace(E,"/");return e}function s(e){var t=e.length-1,n=e.charCodeAt(t);return 35===n?e.substring(0,t):".js"===e.substring(t-2)||e.indexOf("?")>0||47===n?e:e+".js"}function r(e){var t=y.alias;return t&&x(t[e])?t[e]:e}function d(e){var t,n=y.paths;return n&&(t=e.match(D))&&x(n[t[1]])&&(e=n[t[1]]+t[2]),e}function c(e){var t=y.vars;return t&&e.indexOf("{")>-1&&(e=e.replace(A,function(e,n){return x(t[n])?t[n]:e})),e}function l(e){var t=y.map,n=e;if(t)for(var o=0,i=t.length;i>o;o++){var a=t[o];if(n=C(a)?a(e)||e:e.replace(a[0],a[1]),n!==e)break}return n}function p(e,t){var n,o=e.charCodeAt(0);if(O.test(e))n=e;else if(46===o)n=(t?i(t):y.cwd)+e;else if(47===o){var s=y.cwd.match(U);n=s?s[0]+e.substring(1):e}else n=y.base+e;return 0===n.indexOf("//")&&(n=location.protocol+n),a(n)}function u(e,t){if(!e)return"";e=r(e),e=d(e),e=r(e),e=c(e),e=r(e),e=s(e),e=r(e);var n=p(e,t);return n=r(n),n=l(n)}function h(e){return e.hasAttribute?e.src:e.getAttribute("src",4)}function f(e,t,n,o){var i;try{importScripts(e)}catch(a){i=a}t(i)}function m(e,t,n,o){var i=V.createElement("script");n&&(i.charset=n),I(o)||i.setAttribute("crossorigin",o),w(i,t,e),i.async=!0,i.src=e,ee=i,ne?te.insertBefore(i,ne):te.appendChild(i),ee=null}function w(e,t,n){function o(n){e.onload=e.onerror=e.onreadystatechange=null,y.debug||te.removeChild(e),e=null,t(n)}var i="onload"in e;i?(e.onload=o,e.onerror=function(){q("error",{uri:n,node:e}),o(!0)}):e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&o()}}function g(){if(ee)return ee;if(oe&&"interactive"===oe.readyState)return oe;for(var e=te.getElementsByTagName("script"),t=e.length-1;t>=0;t--){var n=e[t];if("interactive"===n.readyState)return oe=n}}function v(e){function t(){l=e.charAt(h++)}function n(){return/\s/.test(l)}function o(){return'"'==l||"'"==l}function i(){var n=h,o=l,i=e.indexOf(o,n);if(-1==i)h=f;else if("\\"!=e.charAt(i-1))h=i+1;else for(;f>h;)if(t(),"\\"==l)h++;else if(l==o)break;w&&(g.push(e.substring(n,h-1)),w=0)}function a(){for(h--;f>h;)if(t(),"\\"==l)h++;else{if("/"==l)break;if("["==l)for(;f>h;)if(t(),"\\"==l)h++;else if("]"==l)break}}function s(){return/[a-z_$]/i.test(l)}function r(){var t=e.slice(h-1),n=/^[\w$]+/.exec(t)[0];v={"if":1,"for":1,"while":1,"with":1}[n],m={"break":1,"case":1,"continue":1,"debugger":1,"delete":1,"do":1,"else":1,"false":1,"if":1,"in":1,"instanceof":1,"return":1,"typeof":1,"void":1}[n],u="return"==n,p={"instanceof":1,"delete":1,"void":1,"typeof":1,"return":1}.hasOwnProperty(n),w=/^require\s*(?:\/\*[\s\S]*?\*\/\s*)?\(\s*(['"]).+?\1\s*[),]/.test(t),w?(n=/^require\s*(?:\/\*[\s\S]*?\*\/\s*)?\(\s*['"]/.exec(t)[0],h+=n.length-2):h+=/^[\w$]+(?:\s*\.\s*[\w$]+)*/.exec(t)[0].length-1}function d(){return/\d/.test(l)||"."==l&&/\d/.test(e.charAt(h))}function c(){var t,n=e.slice(h-1);t="."==l?/^\.\d+(?:E[+-]?\d*)?\s*/i.exec(n)[0]:/^0x[\da-f]*/i.test(n)?/^0x[\da-f]*\s*/i.exec(n)[0]:/^\d+\.?\d*(?:E[+-]?\d*)?\s*/i.exec(n)[0],h+=t.length-1,m=0}if(-1==e.indexOf("require"))return[];for(var l,p,u,h=0,f=e.length,m=1,w=0,g=[],v=0,_=[],$=[];f>h;)if(t(),n())!u||"\n"!=l&&"\r"!=l||(p=0,u=0);else if(o())i(),m=1,u=0,p=0;else if("/"==l)if(t(),"/"==l)h=e.indexOf("\n",h),-1==h&&(h=e.length);else if("*"==l){var y=e.indexOf("\n",h);h=e.indexOf("*/",h),-1==h?h=f:h+=2,u&&-1!=y&&h>y&&(p=0,u=0)}else m?(a(),m=0,u=0,p=0):(h--,m=1,u=0,p=1);else if(s())r();else if(d())c(),u=0,p=0;else if("("==l)_.push(v),m=1,u=0,p=1;else if(")"==l)m=_.pop(),u=0,p=0;else if("{"==l)u&&(p=1),$.push(p),u=0,m=1;else if("}"==l)p=$.pop(),m=!p,u=0;else{var b=e.charAt(h);";"==l?p=0:"-"==l&&"-"==b||"+"==l&&"+"==b||"="==l&&">"==b?(p=0,h++):p=1,m="]"!=l,u=0}return g}function _(e,t){this.uri=e,this.dependencies=t||[],this.deps={},this.status=0,this._entry=[]}if(!e.seajs){var $=e.seajs={version:"3.0.1"},y=$.data={},b=n("Object"),x=n("String"),k=Array.isArray||n("Array"),C=n("Function"),I=n("Undefined"),S=0,T=y.events={};$.on=function(e,t){var n=T[e]||(T[e]=[]);return n.push(t),$},$.off=function(e,t){if(!e&&!t)return T=y.events={},$;var n=T[e];if(n)if(t)for(var o=n.length-1;o>=0;o--)n[o]===t&&n.splice(o,1);else delete T[e];return $};var q=$.emit=function(e,t){var n=T[e];if(n){n=n.slice();for(var o=0,i=n.length;i>o;o++)n[o](t)}return $},B=/[^?#]*\//,N=/\/\.\//g,E=/\/[^\/]+\/\.\.\//,L=/([^:\/])\/+\//g,D=/^([^\/:]+)(\/.+)$/,A=/{([^{]+)}/g,O=/^\/\/.|:\//,U=/^.*?\/\/.*?\//;$.resolve=u;var j,F,M="undefined"==typeof window&&"undefined"!=typeof importScripts&&C(importScripts),R=/^(about|blob):/,P=!location.href||R.test(location.href)?"":i(location.href);if(M){var W;try{var H=Error();throw H}catch(Q){W=Q.stack.split("\n")}W.shift();for(var J,G=/.*?((?:http|https|file)(?::\/{2}[\w]+)(?:[\/|\.]?)(?:[^\s"]*)).*?/i,X=/(.*?):\d+:\d+\)?$/;W.length>0;){var z=W.shift();if(J=G.exec(z),null!=J)break}var Z;if(null!=J)var Z=X.exec(J[1])[1];F=Z,j=i(Z||P),""===P&&(P=j)}else{var V=document,Y=V.scripts,K=V.getElementById("seajsnode")||Y[Y.length-1];F=h(K),j=i(F||P)}if(M)$.request=f;else{var ee,V=document,te=V.head||V.getElementsByTagName("head")[0]||V.documentElement,ne=te.getElementsByTagName("base")[0];$.request=m}var oe,ie,ae=$.cache={},se={},re={},de={},ce=_.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6,ERROR:7};_.prototype.resolve=function(){for(var e=this,t=e.dependencies,n=[],o=0,i=t.length;i>o;o++)n[o]=_.resolve(t[o],e.uri);return n},_.prototype.pass=function(){for(var e=this,t=e.dependencies.length,n=0;n<e._entry.length;n++){for(var o=e._entry[n],i=0,a=0;t>a;a++){var s=e.deps[e.dependencies[a]];s.status<ce.LOADED&&!o.history.hasOwnProperty(s.uri)&&(o.history[s.uri]=!0,i++,s._entry.push(o),s.status===ce.LOADING&&s.pass())}i>0&&(o.remain+=i-1,e._entry.shift(),n--)}},_.prototype.load=function(){var e=this;if(!(e.status>=ce.LOADING)){e.status=ce.LOADING;var n=e.resolve();q("load",n);for(var o=0,i=n.length;i>o;o++)e.deps[e.dependencies[o]]=_.get(n[o]);if(e.pass(),e._entry.length)return e.onload(),t;var a,s={};for(o=0;i>o;o++)a=ae[n[o]],a.status<ce.FETCHING?a.fetch(s):a.status===ce.SAVED&&a.load();for(var r in s)s.hasOwnProperty(r)&&s[r]()}},_.prototype.onload=function(){var e=this;e.status=ce.LOADED;for(var t=0,n=(e._entry||[]).length;n>t;t++){var o=e._entry[t];0===--o.remain&&o.callback()}delete e._entry},_.prototype.error=function(){var e=this;e.onload(),e.status=ce.ERROR},_.prototype.exec=function(){function e(t){var o=n.deps[t]||_.get(e.resolve(t));if(o.status==ce.ERROR)throw Error("module was broken: "+o.uri);return o.exec()}var n=this;if(n.status>=ce.EXECUTING)return n.exports;if(n.status=ce.EXECUTING,n._entry&&!n._entry.length&&delete n._entry,
!n.hasOwnProperty("factory"))return n.non=!0,t;var i=n.uri;e.resolve=function(e){return _.resolve(e,i)},e.async=function(t,n){return _.use(t,n,i+"_async_"+o()),e};var a=n.factory,s=C(a)?a.call(n.exports={},e,n.exports,n):a;return s===t&&(s=n.exports),delete n.factory,n.exports=s,n.status=ce.EXECUTED,q("exec",n),n.exports},_.prototype.fetch=function(e){function n(){$.request(s.requestUri,s.onRequest,s.charset,s.crossorigin)}function o(e){delete se[r],re[r]=!0,ie&&(_.save(a,ie),ie=null);var t,n=de[r];for(delete de[r];t=n.shift();)e===!0?t.error():t.load()}var i=this,a=i.uri;i.status=ce.FETCHING;var s={uri:a};q("fetch",s);var r=s.requestUri||a;return!r||re.hasOwnProperty(r)?(i.load(),t):se.hasOwnProperty(r)?(de[r].push(i),t):(se[r]=!0,de[r]=[i],q("request",s={uri:a,requestUri:r,onRequest:o,charset:C(y.charset)?y.charset(r):y.charset,crossorigin:C(y.crossorigin)?y.crossorigin(r):y.crossorigin}),s.requested||(e?e[s.requestUri]=n:n()),t)},_.resolve=function(e,t){var n={id:e,refUri:t};return q("resolve",n),n.uri||$.resolve(n.id,t)},_.define=function(e,n,o){var i=arguments.length;1===i?(o=e,e=t):2===i&&(o=n,k(e)?(n=e,e=t):n=t),!k(n)&&C(o)&&(n=t===v?[]:v(""+o));var a={id:e,uri:_.resolve(e),deps:n,factory:o};if(!M&&!a.uri&&V.attachEvent&&t!==g){var s=g();s&&(a.uri=s.src)}q("define",a),a.uri?_.save(a.uri,a):ie=a},_.save=function(e,t){var n=_.get(e);n.status<ce.SAVED&&(n.id=t.id||e,n.dependencies=t.deps||[],n.factory=t.factory,n.status=ce.SAVED,q("save",n))},_.get=function(e,t){return ae[e]||(ae[e]=new _(e,t))},_.use=function(t,n,o){var i=_.get(o,k(t)?t:[t]);i._entry.push(i),i.history={},i.remain=1,i.callback=function(){for(var t=[],o=i.resolve(),a=0,s=o.length;s>a;a++)t[a]=ae[o[a]].exec();n&&n.apply(e,t),delete i.callback,delete i.history,delete i.remain,delete i._entry},i.load()},$.use=function(e,t){return _.use(e,t,y.cwd+"_use_"+o()),$},_.define.cmd={},e.define=_.define,$.Module=_,y.fetchedList=re,y.cid=o,$.require=function(e){var t=_.get(_.resolve(e));return t.status<ce.EXECUTING&&(t.onload(),t.exec()),t.exports},y.base=j,y.dir=j,y.loader=F,y.cwd=P,y.charset="utf-8",$.config=function(e){for(var t in e){var n=e[t],o=y[t];if(o&&b(o))for(var i in n)o[i]=n[i];else k(o)?n=o.concat(n):"base"===t&&("/"!==n.slice(-1)&&(n+="/"),n=p(n)),y[t]=n}return q("config",e),$}}}(this),function(e){var t={picDataCache:"",touchEvent:"",scrollTop:"",inited:!1,bossFunc:void 0,init:function(e){var t=this;t.inited||(t.inited=!0,e&&$.isFunction(e)&&(t.bossFunc=e),seajs.config({base:"//mat1.gtimg.com/www/newsapp/js/",alias:{imgCompress:"utils/imgCompress_20170309.min.js"}}),window.commentId&&($.app.mqq||$.app.weixin)&&t.renderFrame(),$.app.weixin?t.autoShowComment():"comment"==t.getHash()&&t.showCommentBox())},autoShowComment:function(){var e=this,t=window.sessionStorage.getItem("comment_jump_"+window.newsId);t&&(window.sessionStorage.removeItem("comment_jump_"+window.newsId),e.showCommentBox())},renderFrame:function(){var e=this,t=[];t.push('<div id="comment_box" class="bottom"'+($.os.android?' os="android"':"")+">"),t.push('<div class="bottom_comment_fake">我也说两句...</div>'),t.push('<div class="top_comment_wrap">'),t.push('<div class="tc_title">'+$("#content .title").text()+"</div>"),t.push('<div class="tc_content">'),t.push('<textarea placeholder="我也说两句"></textarea>'),t.push("</div>"),t.push('<div class="tc_operate">'),t.push('<div class="tc_back">返回正文</div>'),t.push('<div class="tc_upload_pic">'),t.push('<input id="tc_upload_pic_input" type="file" accept="image/*">'),t.push("<em></em>"),t.push("</div>"),t.push('<input class="tc_send" disabled="" type="button" value="发表">'),t.push("</div>"),t.push("</div>"),t.push("</div>"),$(document.body).append(t.join("")),$("#comment_box .top_comment_wrap").css("min-height",$(window).height()-parseInt($(document.body).css("padding-bottom"))),e.bossFunc&&e.bossFunc("commentbox_show"),$("#comment_box").on("click",function(t){e.comtBoxClick(t)}),$("#tc_upload_pic_input").on("change",function(t){e.uploadPic(t)}),$("#comment_box").find("textarea").on("input",function(t){e.commentChange(t)}),$(window).on("hashchange",function(t){e.hashChange()})},comtBoxClick:function(e){var t=this,n=$(e.currentTarget),o=$(e.target);n.hasClass("bottom")&&(t.bossFunc&&t.bossFunc("commentbox_click"),$(window).scrollTop()>0&&window.sessionStorage.setItem("comment_scrolltop_"+window.newsId,$(window).scrollTop()),t.isLogin()?(document.location.href="#comment",t.showCommentBox()):t.login()),o.hasClass("tc_back")&&(t.bossFunc&&t.bossFunc("commentbox_close"),history.go(-1)),o.hasClass("tc_del")&&(t.picDataCache="",$("#comment_box").find(".tc_preview").remove(),t.commentChange()),o.hasClass("tc_send")&&!o.attr("disabled")&&t.send()},hashChange:function(){var e=this;"comment"==e.getHash()||e.hideCommentBox()},getHash:function(){var e=document.location.href;return e.indexOf("#")==-1?"":e.split("#")[1]},showCommentBox:function(){var e=this,t=$("#comment_box");$("#con_wrap").hide(),t.removeClass("bottom").addClass("top"),t.find("textarea")[0].focus(),e.loadMyComment()},hideCommentBox:function(){var e=this,t=$("#comment_box");$("#con_wrap").show(),t.removeClass("top").addClass("bottom"),t.find("textarea")[0].blur(),$(document.body).unbind("touchmove",e.touchEvent);var n=window.sessionStorage.getItem("comment_scrolltop_"+window.newsId);n>0&&window.scrollTo(0,n)},uploadPic:function(e){var t=this,n=e.target.files[0];if(n){if($("#comment_box").find(".tc_preview").length)$("#comment_box").find(".tc_pic_content").css("background-image","");else{var o=[];o.push('<div class="tc_preview">'),o.push('<div class="tc_pic"><div class="tc_pic_content"></div></div>'),o.push('<div class="tc_del">×</div>'),o.push("</div>"),$("#comment_box .tc_content").prepend(o.join(""))}if(URL.createObjectURL){URL.createObjectURL(n)}seajs.use("imgCompress",function(e){e({file:n,maxWidth:800,maxHeight:1200,call:function(e){$("#comment_box").find(".tc_pic_content").css("background-image","url("+e+")"),t.picDataCache=e,$("#comment_box").find("textarea")[0].focus(),t.commentChange()}})})}},uploadImgData:function(e){var t=this;if(e){var n={from:"share",uploadtype:"1",filetype:"base64",picture:e.picData};$.app.mqq?(n.logintype=0,n.cookie=document.cookie):$.app.weixin&&(n.logintype=1,n.cookie=document.cookie),$.ajax({type:"post",url:"//f.inews.qq.com/uploadPic",data:n,success:function(n){0==n.ret&&n.urls&&n.urls.length?(t.bossFunc&&t.bossFunc("commentbox_upimg_succ"),e.picUrl=JSON.stringify(n.urls),t.postComment(e)):(t.bossFunc&&t.bossFunc("commentbox_upimg_failed"),t.showError())}})}},commentChange:function(){var e=this;$("#comment_box textarea ").val()||e.picDataCache?$("#comment_box").find(".tc_send").removeAttr("disabled"):$("#comment_box").find(".tc_send").attr("disabled","disabled")},send:function(){var e=this,t={content:$("#comment_box").find("textarea").val()};e.picDataCache&&(t.picData=e.picDataCache),e.postComment(t)},postComment:function(e){var t=this;if(t.showSending(),e.picData&&!e.picUrl)return void t.uploadImgData(e);var n={article_id:window.newsId,comment_id:window.commentId,rid:"",content:e.content?e.content:"",picture:e.picUrl?e.picUrl:""};$.ajax({type:"post",url:"//kuaibao.qq.com/shareQQNewsMulti",data:n,success:function(n){if(n&&0==n.ret){t.bossFunc&&t.bossFunc("commentbox_submit_succ"),t.showComplete();var o=n.data&&n.data.comments[0]?n.data.comments[0]:"";if(n.data&&o){if(e.content&&(o[0].reply_content=e.content),e.picUrl){var i=JSON.parse(e.picUrl);o[0].pic=[{url:i[0].url+"/0",origUrl:i[0].url+"/0"}]}var a=window.sessionStorage.getItem("comment_con_"+window.newsId);a?(a=JSON.parse(a),a.push(o)):a=[o],window.sessionStorage.setItem("comment_con_"+window.newsId,JSON.stringify(a)),t.loadMyComment()}}else t.bossFunc&&t.bossFunc("commentbox_submit_failed"),t.showError()}})},showSending:function(){$("#comment_hint_box").length?$("#comment_hint_box").attr("class","sending").show():($(document.body).append('<div id="comment_hint_box" class="sending"></div>'),$("#comment_hint_box").attr("class","sending").show())},showError:function(){$("#comment_hint_box").attr("class","error").show(),setTimeout(function(){$("#comment_hint_box").attr("class","sending").hide()},2e3)},showComplete:function(){$("#comment_hint_box").attr("class","complete").show(),setTimeout(function(){$("#comment_hint_box").attr("class","sending").hide()},2e3),$("#comment_box").find(".tc_preview").remove(),$("#comment_box").find("textarea").val("")},getQuery:function(e,t){t=t||location.href;var n=new RegExp("(^|&|\\?|#)"+e+"=([^&#]*)(&|$|#)",""),o=t.match(n);return o?o[2]:null},isLogin:function(){var e=this;return!!($.app.weixin&&$.cookie("access_token")&&1!=e.getQuery("disableCookie")||$.app.mqq)},login:function(){var e=this;window.sessionStorage.setItem("comment_jump_"+window.newsId,1);var t=(e.isHttps(document.location.href)?"https":"http")+"://view.inews.qq.com/a/"+window.newsId+"?c_h=kuaibao";document.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx1484a0f2213fe99d&redirect_uri="+encodeURIComponent(t)+"&response_type=code&scope=snsapi_base&state=123#wechat_redirect"},loadMyComment:function(){var e=this;$.ajax({url:"//kuaibao.qq.com/getRelativeComments",data:{comment_id:window.commentId,article_id:window.newsId},dataType:"jsonp",success:function(t){var n=[],o=window.sessionStorage.getItem("comment_con_"+window.newsId);o&&(o=JSON.parse(o)),o&&$.each(o,function(e,t){var o=t&&t.length&&t[t.length-1]?t[t.length-1].reply_id:"";if(o){var i=!1;$.each(n,function(e,t){var n=t[t.length-1].reply_id;if(n==o)return i=!0,!1}),i||n.unshift(t)}}),e.renderComment(n)}})},renderComment:function(e){if(0!=e.length){var t=this,n=[];n.push('<div class="my_comments"><div class="module-tit">我的评论</div><div class="commentlist">');for(var o=0;o<e.length;o++){item=e[o],item=item[item.length-1],n.push('<div class="item"> '),n.push('<div class="avatar"><img src="'+item.head_url+'"/></div>');var i=item.mb_nick_name?item.mb_nick_name+"<i></i>":item.nick;n.push('<div class="nameBar emojitest">'+i+"<span>"+t.getTimeFromNow(item.pub_time)+'</span></div>                                                                                                              <div class="contentBox">'),n.push('<p class="emojitest '+(item.pic.length?"hasimg":"")+'">'+item.reply_content+"</p>");var a=item.pic.length?'<a href="##" class="imgbox smallImg" data-src="'+item.pic[0].origUrl+'" style="background-image:url('+item.pic[0].url+')"></a>':"";n.push(a),n.push("</div>"),n.push("</div>")}n.push("</div>"),$(".my_comments").length&&$(".my_comments").remove(),$(".top_comment_wrap").append(n.join(""))}},getTimeFromNow:function(e){var t=new Date(1e3*e),n=new Date,o=parseInt((n.getTime()-t.getTime())/1e3);return o<60?re="刚刚":(o>=86400?re=parseInt(o/86400)+"天":o>=3600?re=parseInt(o/3600)+"小时":o>=60?re=parseInt(o/60)+"分钟":re=o+"秒",re+="前"),re},isHttps:function(e){return!!e&&!!e.match(/^https:\/\//g)}};e.commentController=t}(window);/*  |xGv00|1561f48c4b2db69408de95a1d90f4302 */